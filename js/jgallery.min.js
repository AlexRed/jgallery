/*!
 * jGallery v1.0.2
 * http://jgallery.jakubkowalczyk.pl/
 *
 * Released under the MIT license
 *
 * Date: 2014-01-06
 */
(function(d){var h={autostart:false,canClose:true,canResize:true,backgroundColor:"#000",textColor:"#fff",thumbnails:true,thumbnailsFullScreen:true,thumbType:"image",thumbnailsPosition:"bottom",thumbWidth:100,thumbHeight:100,thumbWidthOnFullScreen:100,thumbHeightOnFullScreen:100,transition:"rotateCubeBottomOut_rotateCubeBottomIn",transitionWaveDirection:"forward",transitionCols:1,transitionRows:5,showTimingFunction:"linear",hideTimingFunction:"linear",transitionDuration:"0.7s",zoomSize:"fit",title:true,slideshow:true,slideshowAutostart:false,slideshowCanRandom:true,slideshowRandom:false,slideshowRandomAutostart:false,slideshowInterval:"8s",preloadAll:false,disabledOnIE7AndOlder:true,initGallery:function(){},showPhoto:function(){},beforeLoadPhoto:function(){},afterLoadPhoto:function(){},showGallery:function(){},closeGallery:function(){}};d.fn.jGalleryTransitions={moveToLeft_moveFromRight:["pt-page-moveToLeft","pt-page-moveFromRight"],moveToRight_moveFromLeft:["pt-page-moveToRight","pt-page-moveFromLeft"],moveToTop_moveFromBottom:["pt-page-moveToTop","pt-page-moveFromBottom"],moveToBottom_moveFromTop:["pt-page-moveToBottom","pt-page-moveFromTop"],fade_moveFromRight:["pt-page-fade","pt-page-moveFromRight pt-page-ontop"],fade_moveFromLeft:["pt-page-fade","pt-page-moveFromLeft pt-page-ontop"],fade_moveFromBottom:["pt-page-fade","pt-page-moveFromBottom pt-page-ontop"],fade_moveFromTop:["pt-page-fade","pt-page-moveFromTop pt-page-ontop"],moveToLeftFade_moveFromRightFade:["pt-page-moveToLeftFade","pt-page-moveFromRightFade"],moveToRightFade_moveFromLeftFade:["pt-page-moveToRightFade","pt-page-moveFromLeftFade"],moveToTopFade_moveFromBottomFade:["pt-page-moveToTopFade","pt-page-moveFromBottomFade"],moveToBottomFade_moveFromTopFade:["pt-page-moveToBottomFade","pt-page-moveFromTopFade"],moveToLeftEasing_moveFromRight:["pt-page-moveToLeftEasing pt-page-ontop","pt-page-moveFromRight"],moveToRightEasing_moveFromLeft:["pt-page-moveToRightEasing pt-page-ontop","pt-page-moveFromLeft"],moveToTopEasing_moveFromBottom:["pt-page-moveToTopEasing pt-page-ontop","pt-page-moveFromBottom"],moveToBottomEasing_moveFromTop:["pt-page-moveToBottomEasing pt-page-ontop","pt-page-moveFromTop"],scaleDown_moveFromRight:["pt-page-scaleDown","pt-page-moveFromRight pt-page-ontop"],scaleDown_moveFromLeft:["pt-page-scaleDown","pt-page-moveFromLeft pt-page-ontop"],scaleDown_moveFromBottom:["pt-page-scaleDown","pt-page-moveFromBottom pt-page-ontop"],scaleDown_moveFromTop:["pt-page-scaleDown","pt-page-moveFromTop pt-page-ontop"],scaleDown_scaleUpDown:["pt-page-scaleDown","pt-page-scaleUpDown pt-page-delay300"],scaleDownUp_scaleUp:["pt-page-scaleDownUp","pt-page-scaleUp pt-page-delay300"],moveToLeft_scaleUp:["pt-page-moveToLeft pt-page-ontop","pt-page-scaleUp"],moveToRight_scaleUp:["pt-page-moveToRight pt-page-ontop","pt-page-scaleUp"],moveToTop_scaleUp:["pt-page-moveToTop pt-page-ontop","pt-page-scaleUp"],moveToBottom_scaleUp:["pt-page-moveToBottom pt-page-ontop","pt-page-scaleUp"],scaleDownCenter_scaleUpCenter:["pt-page-scaleDownCenter","pt-page-scaleUpCenter pt-page-delay400"],rotateRightSideFirst_moveFromRight:["pt-page-rotateRightSideFirst","pt-page-moveFromRight pt-page-delay200 pt-page-ontop"],rotateLeftSideFirst_moveFromLeft:["pt-page-rotateLeftSideFirst","pt-page-moveFromLeft pt-page-delay200 pt-page-ontop"],rotateTopSideFirst_moveFromTop:["pt-page-rotateTopSideFirst","pt-page-moveFromTop pt-page-delay200 pt-page-ontop"],rotateBottomSideFirst_moveFromBottom:["pt-page-rotateBottomSideFirst","pt-page-moveFromBottom pt-page-delay200 pt-page-ontop"],flipOutRight_flipInLeft:["pt-page-flipOutRight","pt-page-flipInLeft pt-page-delay500"],flipOutLeft_flipInRight:["pt-page-flipOutLeft","pt-page-flipInRight pt-page-delay500"],flipOutTop_flipInBottom:["pt-page-flipOutTop","pt-page-flipInBottom pt-page-delay500"],flipOutBottom_flipInTop:["pt-page-flipOutBottom","pt-page-flipInTop pt-page-delay500"],rotateFall_scaleUp:["pt-page-rotateFall pt-page-ontop","pt-page-scaleUp"],rotateOutNewspaper_rotateInNewspaper:["pt-page-rotateOutNewspaper","pt-page-rotateInNewspaper pt-page-delay500"],rotatePushLeft_moveFromRight:["pt-page-rotatePushLeft","pt-page-moveFromRight"],rotatePushRight_moveFromLeft:["pt-page-rotatePushRight","pt-page-moveFromLeft"],rotatePushTop_moveFromBottom:["pt-page-rotatePushTop","pt-page-moveFromBottom"],rotatePushBottom_moveFromTop:["pt-page-rotatePushBottom","pt-page-moveFromTop"],rotatePushLeft_rotatePullRight:["pt-page-rotatePushLeft","pt-page-rotatePullRight pt-page-delay180"],rotatePushRight_rotatePullLeft:["pt-page-rotatePushRight","pt-page-rotatePullLeft pt-page-delay180"],rotatePushTop_rotatePullBottom:["pt-page-rotatePushTop","pt-page-rotatePullBottom pt-page-delay180"],rotatePushBottom_page:["pt-page-rotatePushBottom","pt-page-rotatePullTop pt-page-delay180"],rotateFoldLeft_moveFromRightFade:["pt-page-rotateFoldLeft","pt-page-moveFromRightFade"],rotateFoldRight_moveFromLeftFade:["pt-page-rotateFoldRight","pt-page-moveFromLeftFade"],rotateFoldTop_moveFromBottomFade:["pt-page-rotateFoldTop","pt-page-moveFromBottomFade"],rotateFoldBottom_moveFromTopFade:["pt-page-rotateFoldBottom","pt-page-moveFromTopFade"],moveToRightFade_rotateUnfoldLeft:["pt-page-moveToRightFade","pt-page-rotateUnfoldLeft"],moveToLeftFade_rotateUnfoldRight:["pt-page-moveToLeftFade","pt-page-rotateUnfoldRight"],moveToBottomFade_rotateUnfoldTop:["pt-page-moveToBottomFade","pt-page-rotateUnfoldTop"],moveToTopFade_rotateUnfoldBottom:["pt-page-moveToTopFade","pt-page-rotateUnfoldBottom"],rotateRoomLeftOut_rotateRoomLeftIn:["pt-page-rotateRoomLeftOut pt-page-ontop","pt-page-rotateRoomLeftIn"],rotateRoomRightOut_rotateRoomRightIn:["pt-page-rotateRoomRightOut pt-page-ontop","pt-page-rotateRoomRightIn"],rotateRoomTopOut_rotateRoomTopIn:["pt-page-rotateRoomTopOut pt-page-ontop","pt-page-rotateRoomTopIn"],rotateRoomBottomOut_rotateRoomBottomIn:["pt-page-rotateRoomBottomOut pt-page-ontop","pt-page-rotateRoomBottomIn"],rotateCubeLeftOut_rotateCubeLeftIn:["pt-page-rotateCubeLeftOut pt-page-ontop","pt-page-rotateCubeLeftIn"],rotateCubeRightOut_rotateCubeRightIn:["pt-page-rotateCubeRightOut pt-page-ontop","pt-page-rotateCubeRightIn"],rotateCubeTopOut_rotateCubeTopIn:["pt-page-rotateCubeTopOut pt-page-ontop","pt-page-rotateCubeTopIn"],rotateCubeBottomOut_rotateCubeBottomIn:["pt-page-rotateCubeBottomOut pt-page-ontop","pt-page-rotateCubeBottomIn"],rotateCarouselLeftOut_rotateCarouselLeftIn:["pt-page-rotateCarouselLeftOut pt-page-ontop","pt-page-rotateCarouselLeftIn"],rotateCarouselRightOut_rotateCarouselRightIn:["pt-page-rotateCarouselRightOut pt-page-ontop","pt-page-rotateCarouselRightIn"],rotateCarouselTopOut_rotateCarouselTopIn:["pt-page-rotateCarouselTopOut pt-page-ontop","pt-page-rotateCarouselTopIn"],rotateCarouselBottomOut_rotateCarouselBottomIn:["pt-page-rotateCarouselBottomOut pt-page-ontop","pt-page-rotateCarouselBottomIn"],rotateSidesOut_rotateSidesInDelay:["pt-page-rotateSidesOut","pt-page-rotateSidesIn pt-page-delay200"],rotateSlideOut_rotateSlideIn:["pt-page-rotateSlideOut","pt-page-rotateSlideIn"]};d.fn.jGalleryArrayTransitions=[];d.each(d.fn.jGalleryTransitions,function(s,t){d.fn.jGalleryArrayTransitions.push(t)});var k;var o;d(function(){k=d("head");o=d("body")});var n=d(window);var a=0;var f=function(t,s){this.intJgalleryId=s;this.$element=t};f.prototype={clear:function(){this.$element.stop(false,true).css({width:0});return this},start:function(s,t){this.$element.animate({width:s},parseInt(d.fn.jGalleryOptions[this.intJgalleryId].slideshowInterval)*1000,"linear",t);return this},pause:function(){this.$element.stop(true);this.clear();return this}};var l=function(s){this.$element=s;this.$title=this.$element.find(".title")};l.prototype={bindEvents:function(t){var s=this;this.getElement().on({click:function(u){s.menuToggle();u.stopPropagation()}});this.getItemsOfMenu().on({click:function(){var u=d(this);if(u.is(".active")){return}t.thumbnails.setActiveAlbum(t.thumbnails.$albums.filter('[data-jgallery-album-title="'+u.attr("data-jgallery-album-title")+'"]'))}});d("html").on("click",function(){s.menuHide()})},setTitle:function(s){this.$title.html(s)},getTitle:function(){return this.$title.html()},getListOfAlbums:function(){return this.getElement().find(".menu")},getElement:function(){return this.$element},getItemsOfMenu:function(){return this.getListOfAlbums().find(".item")},appendToMenu:function(s){this.getListOfAlbums().append(s)},menuToggle:function(){this.getElement().toggleClass("active")},menuHide:function(){this.getElement().removeClass("active")}};var b=function(t,s){this.$element=t;this.booIsAlbums=s;this.$tmp;this.intI=1;this.intJ=1;this.intNo;this.$thumbnailsContainerInner=d(".jgallery").eq(-1).find(".thumbnails .container-inner");this.start()};b.prototype={start:function(){var s=this;d("body").append('<div id="jGalleryTmp" style="position: absolute; top: 0; left: 0; width: 0; height: 0; z-index: -1; overflow: hidden;">'+this.$element.html()+"</div>");this.$tmp=d("#jGalleryTmp");if(this.booIsAlbums){this.$tmp.find(".album:has(a:has(img:first-child:last-child))").each(function(){s.insertAlbum(d(this))})}else{this.insertImages(this.$tmp,this.$thumbnailsContainerInner)}this.$tmp.remove()},insertAlbum:function(t){var s=t.is("[data-jgallery-album-title]")?t.attr("data-jgallery-album-title"):"Album "+this.intJ;var u=this.$thumbnailsContainerInner.append('<div class="album" data-jgallery-album-title="'+s+'"></div>').children(":last-child");if(this.intJ===1){u.addClass("active")}this.insertImages(t,u);this.intJ++},insertImages:function(t,u){var s=this;this.intNo=1;t.find("a:has(img:first-child:last-child)").each(function(){s.insertImage(d(this),u)})},insertImage:function(s,t){t.append(s.addClass("hidden"));t.children(":last-child").attr("data-jgallery-photo-id",this.intI++).attr("data-jgallery-number",this.intNo++)}};var j=function(s){this.$element=s.$element.find(".thumbnails");this.$a=this.getElement().find("a");this.$img=this.getElement().find("img");this.$container=this.getElement().find(".container");this.$albums=this.getElement().find(".album").length?this.getElement().find(".album"):this.getElement().find(".container-inner").addClass("active");this.$btnNext=this.getElement().children(".next");this.$btnPrev=this.getElement().children(".prev");this.intJgalleryId=s.$element.attr("data-jgallery-id");this.isJgalleryInitialized=s.$element.is("[data-jgallery-id]");this.zoom=s.zoom;this.jGallery=s};j.prototype={getElement:function(){return this.$element},init:function(){this.getElement().removeClass("square number images thumbnails-left thumbnails-right thumbnails-top thumbnails-bottom thumbnails-horizontal thumbnails-vertical");this.getElement().addClass("thumbnails-"+d.fn.jGalleryOptions[this.intJgalleryId].thumbnailsPosition);if(this.isVertical()){this.getElement().addClass("thumbnails-vertical")}if(this.isHorizontal()){this.getElement().addClass("thumbnails-horizontal")}if(d.fn.jGalleryOptions[this.intJgalleryId].thumbType==="image"){this._initImages()}if(d.fn.jGalleryOptions[this.intJgalleryId].thumbType==="square"){this._initSquare()}if(d.fn.jGalleryOptions[this.intJgalleryId].thumbType==="number"){this._initNumber()}},show:function(){var s=this;if(!this.getElement().is(".hidden")){return}this.getElement().removeClass("hidden");if(!this.getElement().is(".loaded")){this.getElement().jLoader({start:function(){},success:function(){s._showNextThumb();s.$a.parent(".album:not(.active)").children(".hidden").removeClass("hidden");s.getElement().addClass("loaded");s.refreshThumbsSize(s)}})}else{this._showNextThumb();this.$a.parent(".album:not(.active)").children(".hidden").removeClass("hidden")}},hide:function(){this.getElement().addClass("hidden").find("a").addClass("hidden")},refreshThumbsSize:function(s){s.$img.each(function(){var t=d(this);g(t)?t.css({"max-height":"100%","max-width":"none"}):t.css({"max-width":"100%","max-height":"none"})})},setActiveThumb:function(t){var s=t.find("img");var u=this.$albums.filter(".active");var t=u.find('img[src="'+s.attr("src")+'"]').parent("a").eq(0);this.getElement().find("a").removeClass("active");t.addClass("active");if(u.find("a.active").length===0){u.find("a:first-child").eq(0).addClass("active")}this.center(t)},isHorizontal:function(){return d.fn.jGalleryOptions[this.intJgalleryId].thumbnailsPosition==="top"||d.fn.jGalleryOptions[this.intJgalleryId].thumbnailsPosition==="bottom"},isVertical:function(){return d.fn.jGalleryOptions[this.intJgalleryId].thumbnailsPosition==="left"||d.fn.jGalleryOptions[this.intJgalleryId].thumbnailsPosition==="right"},isFullScreen:function(){return this.getElement().is(".full-screen")},refreshNavigation:function(){if(this.isVertical()||this.isFullScreen()){this._refreshVerticalNavigation()}else{if(this.isHorizontal()){this._refreshHorizontalNavigation()}}},center:function(s){if(this.isHorizontal()){this._horizontalCenter(s)}if(this.isVertical()){this._verticalCenter(s)}},bindEvents:function(){var s=this;this.$btnNext.on("click",function(){s._scrollToNext()});this.$btnPrev.on("click",function(){s._scrollToPrev()});this.zoom.$container.find(".full-screen").on({click:function(){s.zoom.slideshowStop();s.changeViewToFullScreen()}});this.getElement().find(".close").on({click:function(){s.changeViewToBar();s.zoom.refreshSize()}})},changeViewToBar:function(){this.getElement().removeClass("full-screen");if(this.isHorizontal()){this.getElement().addClass("thumbnails-horizontal").removeClass("thumbnails-vertical")}this.refreshNavigation()},changeViewToFullScreen:function(){this.getElement().addClass("full-screen");if(this.isHorizontal()){this.getElement().addClass("thumbnails-vertical").removeClass("thumbnails-horizontal")}this._refreshVerticalNavigation()},setActiveAlbum:function(s){if(!this.jGallery.booIsAlbums){return}this.$albums.not(s.get(0)).removeClass("active");s.addClass("active");this.jGallery.iconChangeAlbum.getListOfAlbums().find(".item").removeClass("active").filter('[data-jgallery-album-title="'+s.attr("data-jgallery-album-title")+'"]').addClass("active");this.jGallery.iconChangeAlbum.setTitle(s.attr("data-jgallery-album-title"));this.refreshNavigation();if(!this.getElement().is(".full-screen")&&this.jGallery.$element.is(":visible")){this.zoom.showPhoto(s.find("a").eq(0))}this.refreshThumbsSize(this)},_initSquare:function(){this.getElement().addClass("square")},_initNumber:function(){this.getElement().addClass("number");this._initSquare()},_initImages:function(){this.getElement().addClass("images");d("head").append('                <style type="text/css">\n                    .jgallery .thumbnails a {\n                        width: '+d.fn.jGalleryOptions[this.intJgalleryId].thumbWidth+"px;\n                        height: "+d.fn.jGalleryOptions[this.intJgalleryId].thumbHeight+"px;\n                        font-size: "+d.fn.jGalleryOptions[this.intJgalleryId].thumbHeight+"px;\n                    }\n                    .jgallery .thumbnails.full-screen a {\n                        width: "+d.fn.jGalleryOptions[this.intJgalleryId].thumbWidthOnFullScreen+"px;\n                        height: "+d.fn.jGalleryOptions[this.intJgalleryId].thumbHeightOnFullScreen+"px;\n                        font-size: "+d.fn.jGalleryOptions[this.intJgalleryId].thumbHeightOnFullScreen+"px;\n                    }\n                    .jgallery .thumbnails-horizontal {\n                        height: "+parseInt(d.fn.jGalleryOptions[this.intJgalleryId].thumbHeight+2)+"px;\n                    }\n                    .jgallery .thumbnails-vertical {\n                        width: "+parseInt(d.fn.jGalleryOptions[this.intJgalleryId].thumbWidth+2)+"px;\n                    }\n                    .jgallery .thumbnails-top.hidden {\n                        top: -"+d.fn.jGalleryOptions[this.intJgalleryId].thumbHeight+"px;\n                    }\n                    .jgallery .thumbnails-bottom.hidden {\n                        bottom: -"+d.fn.jGalleryOptions[this.intJgalleryId].thumbHeight+"px;\n                    }\n                    .jgallery .thumbnails-left.hidden {\n                        left: -"+d.fn.jGalleryOptions[this.intJgalleryId].thumbWidth+"px;\n                    }\n                    .jgallery .thumbnails-right.hidden {\n                        right: -"+d.fn.jGalleryOptions[this.intJgalleryId].thumbWidth+"px;\n                    }\n                </style>\n            ");if(this.isJgalleryInitialized){return}this.hide()},_showNextThumb:function(){var s=this;var t=this.$a.parent(".active").children(".hidden").eq(0);setTimeout(function(){t.removeClass("hidden");if(t.length){s._showNextThumb()}},70)},_horizontalCenter:function(t){var s=this;if(t.length!==1){return}this.$container.stop(false,true).animate({scrollLeft:t.position().left-this.$container.scrollLeft()*-1-t.outerWidth()/-2-this.$container.outerWidth()/2},function(){s.refreshNavigation()})},_verticalCenter:function(t){var s=this;if(t.length!==1){return}this.$container.stop(false,true).animate({scrollTop:t.position().top-this.$container.scrollTop()*-1-t.outerHeight()/-2-this.$container.outerHeight()/2},function(){s.refreshNavigation()})},_refreshHorizontalNavigation:function(){var t=this.getElement().find("div.active");var s=d.fn.jGalleryOptions[this.intJgalleryId].thumbType==="image"?this.$a.outerWidth(true)*t.find("img").length:this.$a.outerWidth(true)*t.find("a").length;this.$container.scrollLeft()>0?this.$btnPrev.addClass("visible"):this.$btnPrev.removeClass("visible");s>this.$container.width()+this.$container.scrollLeft()?this.$btnNext.addClass("visible"):this.$btnNext.removeClass("visible")},_refreshVerticalNavigation:function(){this.$container.scrollTop()>0?this.$btnPrev.addClass("visible"):this.$btnPrev.removeClass("visible");this.$container.find(".container-inner").height()>this.$container.height()+this.$container.scrollTop()?this.$btnNext.addClass("visible"):this.$btnNext.removeClass("visible")},_scrollToPrev:function(){var s=this;if(this.isVertical()||this.isFullScreen()){this.$container.stop(false,true).animate({scrollTop:"-="+n.height()*0.7},function(){s.refreshNavigation()})}else{if(this.isHorizontal()){this.$container.stop(false,true).animate({scrollLeft:"-="+n.width()*0.7},function(){s.refreshNavigation()})}}},_scrollToNext:function(){var s=this;if(this.isVertical()||this.isFullScreen()){this.$container.stop(false,true).animate({scrollTop:"+="+n.height()*0.7},function(){s.refreshNavigation()})}else{if(this.isHorizontal()){this.$container.stop(false,true).animate({scrollLeft:"+="+n.width()*0.7},function(){s.refreshNavigation()})}}}};var e=function(s){this.$container=s.$element.children(".zoom-container");this.$element=this.$container.children(".zoom");this.$title=this.$container.children(".title");this.$btnPrev=this.$container.children(".prev");this.$btnNext=this.$container.children(".next");this.thumbnails=s.thumbnails;this.$jGallery=s.$element;this.jGallery=s;this.$resize=this.$container.find(".resize");this.$random=this.$container.find(".random");this.$slideshow=this.$container.find(".slideshow");this.intJGalleryId=this.$jGallery.attr("data-jgallery-id");this.booSlideshowPlayed=false;this.booLoadingInProgress=false;this.booLoadedAll=false;this.update()};e.prototype={update:function(){var s=d.fn.jGalleryTransitions[d.fn.jGalleryOptions[this.jGallery.intId].transition];this.$element.find(".pt-page").removeClass(d.fn.jGalleryOptions[this.jGallery.intId].hideEffect).removeClass(d.fn.jGalleryOptions[this.jGallery.intId].showEffect);if(typeof s!=="undefined"){d.fn.jGalleryOptions[this.jGallery.intId].hideEffect=d.fn.jGalleryTransitions[d.fn.jGalleryOptions[this.jGallery.intId].transition][0];d.fn.jGalleryOptions[this.jGallery.intId].showEffect=d.fn.jGalleryTransitions[d.fn.jGalleryOptions[this.jGallery.intId].transition][1]}this.initAdvancedAnimation()},initAdvancedAnimation:function(){if(typeof this.advancedAnimation==="undefined"){this.advancedAnimation=new c(this.$element)}this.advancedAnimation.setDuration(d.fn.jGalleryOptions[this.jGallery.intId].transitionDuration);this.advancedAnimation.setDirection(d.fn.jGalleryOptions[this.jGallery.intId].transitionWaveDirection);this.advancedAnimation.setQuantityParts(d.fn.jGalleryOptions[this.jGallery.intId].transitionCols,d.fn.jGalleryOptions[this.jGallery.intId].transitionRows);this.advancedAnimation.setHideEffect(d.fn.jGalleryOptions[this.jGallery.intId].hideEffect);this.advancedAnimation.setShowEffect(d.fn.jGalleryOptions[this.jGallery.intId].showEffect)},setThumbnails:function(s){this.thumbnails=s},refreshContainerSize:function(){var s=this.$container.find(".nav-bottom").outerHeight();this.$container.css({width:this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(true):"auto",height:this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(true)-s:this.$jGallery.height()-s,"margin-top":d.fn.jGalleryOptions[this.intJGalleryId].thumbnailsPosition==="top"?this.thumbnails.getElement().outerHeight(true):0,"margin-left":d.fn.jGalleryOptions[this.intJGalleryId].thumbnailsPosition==="left"?this.thumbnails.getElement().outerWidth(true):0,"margin-right":d.fn.jGalleryOptions[this.intJGalleryId].thumbnailsPosition==="right"?this.thumbnails.getElement().outerWidth(true):0})},refreshSize:function(){if(this.thumbnails.isFullScreen()){return}this.refreshContainerSize();if(d.fn.jGalleryOptions[this.intJGalleryId].zoomSize==="original"){this.original()}else{if(d.fn.jGalleryOptions[this.intJGalleryId].zoomSize==="fill"){this.fill()}else{this.fit()}}this.$element.addClass("visible")},toggleSize:function(){if(d.fn.jGalleryOptions[this.jGallery.intId].zoomSize==="fit"){d.fn.jGalleryOptions[this.jGallery.intId].zoomSize="fill";this.fill()}else{if(d.fn.jGalleryOptions[this.jGallery.intId].zoomSize==="fill"){d.fn.jGalleryOptions[this.jGallery.intId].zoomSize="original";this.original()}else{if(d.fn.jGalleryOptions[this.jGallery.intId].zoomSize==="original"){var s=this.$element.find("img.active").eq(0);if(this.$element.outerWidth()>s.outerWidth()&&this.$element.outerHeight()>s.outerHeight()){d.fn.jGalleryOptions[this.jGallery.intId].zoomSize="fit";this.fit()}else{d.fn.jGalleryOptions[this.jGallery.intId].zoomSize="fill";this.fill()}}}}},original:function(){var s=this.$element.find("img.active").add(this.$element.find(".pt-page.init img"));this.advancedAnimation.setPositionParts();this.setImgSizeForOriginal(s.filter(".active"));this.setImgSizeForOriginal(s.filter(":not( .active )"));this.$resize.addClass("icon-resize-full").removeClass("icon-resize-small")},fit:function(){var s=this.$element.find("img.active").add(this.$element.find(".pt-page.init img"));this.advancedAnimation.setPositionParts();this.setImgSizeForFit(s.filter(".active"));this.setImgSizeForFit(s.filter(":not( .active )"));this.$resize.addClass("icon-resize-full").removeClass("icon-resize-small")},fill:function(){var s=this.$element.find("img.active").add(this.$element.find(".pt-page.init img"));this.setImgSizeForFill(s.filter(".active"));this.setImgSizeForFill(s.filter(":not( .active )"));this.advancedAnimation.setPositionParts();this.$resize.addClass("icon-resize-small").removeClass("icon-resize-full")},setImgSizeForOriginal:function(s){var t=this.$container.find(".nav-bottom").outerHeight();s.css({width:"auto",height:"auto","min-width":0,"min-height":0,"max-width":this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(true):this.$jGallery.width(),"max-height":this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(true)-t:this.$jGallery.height()-t});s.css({"margin-top":-s.height()/2,"margin-left":-s.width()/2})},setImgSizeForFit:function(s){var t=this.$container.find(".nav-bottom").outerHeight();s.css({"min-width":0,"min-height":0,"max-width":this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(true):this.$jGallery.width(),"max-height":this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(true)-t:this.$jGallery.height()-t});if(s.width()/s.height()/this.jGallery.getCanvasRatioWidthToHeight()<1){s.css({width:"auto",height:this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(true)-t:this.$jGallery.height()-t})}else{s.css({width:this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(true):this.$jGallery.width(),height:"auto"})}s.css({"margin-top":-s.height()/2,"margin-left":-s.width()/2})},setImgSizeForFill:function(s){var t=this.$container.find(".nav-bottom").outerHeight();s.css({width:"auto",height:"auto","max-width":"none","max-height":"none","min-width":0,"min-height":0});if(s.width()/s.height()/this.jGallery.getCanvasRatioWidthToHeight()>1){s.css({width:"auto",height:this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(true)-t:this.$jGallery.height()-t})}else{s.css({width:this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(true):this.$jGallery.width(),height:"auto"})}s.css({"min-width":this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(true):this.$jGallery.width(),"min-height":this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(true)-t:this.$jGallery.height()-t});s.css({"margin-top":-s.height()/2,"margin-left":-s.width()/2})},isLoaded:function(s){return this.$element.find("img").filter('[src="'+s.attr("href")+'"]').length>0},refreshNav:function(){var s=this.thumbnails.getElement().find("div.active a.active");s.prev("a").length===1?this.$btnPrev.add(this.$container.children(".left")).removeClass("hidden"):this.$btnPrev.add(this.$container.children(".left")).addClass("hidden");s.next("a").length===1?this.$btnNext.add(this.$container.children(".right")).removeClass("hidden"):this.$btnNext.add(this.$container.children(".right")).addClass("hidden")},slideshowStop:function(){this.jGallery.progress.pause();this.$slideshow.removeClass("icon-stop").addClass("icon-play");this.booSlideshowPlayed=false},slideshowPlay:function(){if(this.booLoadingInProgress||this.booSlideshowPlayed){return}this.booSlideshowPlayed=true;this.$slideshow.removeClass("icon-play").addClass("icon-stop");this.slideshowSetTimeout()},slideshowPlayStop:function(){this.$slideshow.is(".icon-play")?this.slideshowPlay():this.slideshowStop()},slideshowSetTimeout:function(){var s=this;this.jGallery.progress.clear().start(this.$container.width(),function(){s.jGallery.progress.clear();d.fn.jGalleryOptions[s.jGallery.intId].slideshowRandom?s.showRandomPhoto():s.showNextPhotoLoop()})},slideshowRandomToggle:function(){if(d.fn.jGalleryOptions[this.jGallery.intId].slideshowRandom){this.$random.removeClass("active");d.fn.jGalleryOptions[this.jGallery.intId].slideshowRandom=false}else{this.$random.addClass("active");d.fn.jGalleryOptions[this.jGallery.intId].slideshowRandom=true}},showNextPhotoLoop:function(){var s=this.thumbnails.$a.filter(".active").next("a");if(s.length===0){s=this.thumbnails.$albums.filter(".active").find("a").eq(0)}this.showPhoto(s)},showRandomPhoto:function(){var s=this.thumbnails.$albums.filter(".active").find("a:not(.active)");this.showPhoto(s.eq(Math.floor(Math.random()*s.length)))},showPrevPhoto:function(){var s=this.thumbnails.$a.filter(".active").prev("a");if(s.length===1){this.showPhoto(s)}},showNextPhoto:function(){var s=this.thumbnails.$a.filter(".active").next("a");if(s.length===1){this.showPhoto(s)}},showPhotoInit:function(){d("body").overlay({imageLoaderPositionAbsolute:true,fadeIn:false,show:true});this.jGallery.init()},showPhoto:function(u){var t=this;var v=u.children("img");var s;var w;if(!this.jGallery.initialized()){this.showPhotoInit()}if(this.booLoadingInProgress){return}this.booLoadingInProgress=true;this.$element.find(".pt-page.init").remove();d.fn.jGalleryOptions[this.jGallery.intId].showPhoto();if(this.jGallery.$element.is(":not(:visible)")){this.jGallery.show()}this.thumbnails.changeViewToBar();if(this.jGallery.booIsAlbums){if(this.jGallery.iconChangeAlbum.getTitle()===""){w=u.parents(".album").eq(0).attr("data-jgallery-album-title");this.jGallery.iconChangeAlbum.setTitle(w);this.jGallery.iconChangeAlbum.$element.find('[data-jgallery-album-title="'+w+'"]').addClass("active")}}this.thumbnails.setActiveThumb(u);if(this.$element.find("img.active").attr("src")===u.attr("href")){this.booLoadingInProgress=false;return}this.refreshNav();clearTimeout(this.jGallery.loaderTimeout);if(d.fn.jGalleryOptions[this.jGallery.intId].transition==="random"){this.setRandomTransition()}if(d.fn.jGalleryOptions[this.jGallery.intId].title){this.$title.addClass("after fade")}s=t.isLoaded(u);if(!s){if(d.fn.jGalleryOptions[t.jGallery.intId].preloadAll&&!t.booLoadedAll){this.appendAllPhotos()}else{this.appendPhoto(u)}}this.$element.find("img.active").addClass("prev-img");t.$container.find("img.active").removeClass("active");t.$container.find('[src="'+u.attr("href")+'"]').addClass("active");if(d.fn.jGalleryOptions[t.jGallery.intId].title&&v.is("[alt]")){t.$title.removeClass("after").addClass("before")}if(!s||(d.fn.jGalleryOptions[t.jGallery.intId].preloadAll&&!t.booLoadedAll)){t.booLoadedAll=true;t.$container.overlay({show:true,showLoader:true});d.fn.jGalleryOptions[t.jGallery.intId].beforeLoadPhoto();t.loadPhoto(t.$element,u)}else{t.showPhotoSuccess(v)}},appendPhoto:function(s){if(this.$element.find(".container").length===0){this.appendInitPhoto(this.thumbnails.$a.not('[href="'+s.attr("href")+'"]').eq(0))}this.$element.find(".pt-part").append('<div class="container pt-page"><div class="pt-item"><img src="'+s.attr("href")+'" /></div></div>')},appendAllPhotos:function(){var s=this;if(!d.fn.jGalleryOptions[this.jGallery.intId].preloadAll){return}this.thumbnails.$a.each(function(){var t=d(this);if(!s.isLoaded(t)){s.$element.find(".pt-part").append('<div class="container pt-page"><div class="pt-item"><img src="'+t.attr("href")+'" /></div></div>')}});this.appendInitPhoto(this.thumbnails.$a.eq(-1))},appendInitPhoto:function(s){this.$element.find(".pt-part").append('                <div class="container pt-page pt-page-current pt-page-ontop init" style="visibility: hidden;">                    <div class="pt-item"><img src="'+s.attr("href")+'" class="active loaded" /></div>                </div>')},loadPhoto:function(t,w){var s=this;var x=w.children("img");var v=0;var u=d.fn.jGalleryOptions[this.jGallery.intId].preloadAll?t:t.find("img.active");u.jLoader({interval:500,skip:".loaded",start:function(){if(d.fn.jGalleryOptions[s.jGallery.intId].preloadAll){s.$container.find(".overlay .imageLoaderPositionAbsolute:not(:has(.progress-value))").addClass("preloadAll").append('<span class="progress-value"></span>');s.$container.find(".progress-value").html("0")}else{s.$container.find(".overlay .imageLoaderPositionAbsolute:not(:has(.icon-spin))").append('<span class="icon-spin icon-spinner"></span>')}},success:function(){t.find("img").addClass("loaded");s.$container.overlay({hide:true,hideLoader:true});clearInterval(s.jGallery.loaderTimeout);s.jGallery.loaderTimeout=setTimeout(function(){s.showPhotoSuccess(x)},500)},progress:function(y){if(!d.fn.jGalleryOptions[s.jGallery.intId].preloadAll){return}v=y.percent;s.$container.find(".overlay .imageLoaderPositionAbsolute").find(".progress-value").html(v)}})},showPhotoSuccess:function(s){if(d.fn.jGalleryOptions[this.jGallery.intId].title&&s.is("[alt]")){this.$title.html(s.attr("alt")).removeClass("before").removeClass("after")}this.jGallery.setColours({strBg:s.is("[data-jgallery-bg-color]")?s.attr("data-jgallery-bg-color"):d.fn.jGalleryOptions[this.jGallery.intId].backgroundColor,strText:s.is("[data-jgallery-bg-color]")?s.attr("data-jgallery-text-color"):d.fn.jGalleryOptions[this.jGallery.intId].textColor});this.$element.find(".pt-page.init").css({visibility:"visible"});this.$element.find("img.prev-img").removeClass("prev-img");this.advancedAnimation.show(this.$element.find("img.active").eq(0).parent().parent());this.refreshSize();this.thumbnails.refreshNavigation();if(this.booSlideshowPlayed){this.slideshowSetTimeout()}d.fn.jGalleryOptions[this.jGallery.intId].afterLoadPhoto();this.booLoadingInProgress=false;if(d.fn.jGalleryOptions[this.jGallery.intId].autostart&&d.fn.jGalleryOptions[this.jGallery.intId].slideshowAutostart&&d.fn.jGalleryOptions[this.jGallery.intId].slideshow){d.fn.jGalleryOptions[this.jGallery.intId].slideshowAutostart=false;this.slideshowPlay()}},setTransition:function(s){d.fn.jGalleryOptions[this.jGallery.intId].hideEffect=d.fn.jGalleryTransitions[s][0];d.fn.jGalleryOptions[this.jGallery.intId].showEffect=d.fn.jGalleryTransitions[s][1];this.advancedAnimation.setHideEffect(d.fn.jGalleryOptions[this.jGallery.intId].hideEffect);this.advancedAnimation.setShowEffect(d.fn.jGalleryOptions[this.jGallery.intId].showEffect)},loaderInit:function(){this.$loader=d('body > .overlay > [class*="imageLoader"]');if(d.fn.jGalleryOptions[this.jGallery.intId].thumbnails){if(d.fn.jGalleryOptions[this.jGallery.intId].thumbnailsPosition==="top"){this.$loader.css({"margin-top":"+="+this.thumbnails.getElement().outerHeight(true)/2})}if(d.fn.jGalleryOptions[this.jGallery.intId].thumbnailsPosition==="bottom"){this.$loader.css({"margin-top":"-="+this.thumbnails.getElement().outerHeight(true)/2})}}},setRandomTransition:function(){var s;this.$element.find(".pt-page").removeClass(d.fn.jGalleryOptions[this.jGallery.intId].hideEffect).removeClass(d.fn.jGalleryOptions[this.jGallery.intId].showEffect);s=Math.floor((Math.random()*d.fn.jGalleryArrayTransitions.length));d.fn.jGalleryOptions[this.jGallery.intId].hideEffect=d.fn.jGalleryArrayTransitions[s][0];d.fn.jGalleryOptions[this.jGallery.intId].showEffect=d.fn.jGalleryArrayTransitions[s][1];this.advancedAnimation.setHideEffect(d.fn.jGalleryOptions[this.jGallery.intId].hideEffect);this.advancedAnimation.setShowEffect(d.fn.jGalleryOptions[this.jGallery.intId].showEffect)}};var m=function(u,t){var s=this;this.booIsAlbums=u.find(".album:has(a:has(img:first-child:last-child))").length>1;this.intId=parseInt(d(".jgallery").length+1);this.$this=u;d.fn.jGalleryOptions[this.intId]=this.initialized()?d.extend(d.fn.jGalleryOptions[this.intId],t):d.extend({},h,t);if(d.fn.jGalleryOptions[this.intId].disabledOnIE7AndOlder&&r()){return}this.init();if(d.fn.jGalleryOptions[s.intId].autostart){s.zoom.showPhoto(u.find("a:has(img:first-child:last-child)").eq(0))}d("html").on({keydown:function(v){if(s.$element.is(":visible")){if(v.which===27){v.preventDefault();if(s.thumbnails.getElement().is(".full-screen")){s.thumbnails.changeViewToBar();s.zoom.refreshSize();return}s.hide()}if(v.which===37){v.preventDefault();s.zoom.showPrevPhoto()}if(v.which===39){v.preventDefault();s.zoom.showNextPhoto()}}}})};m.prototype={initialized:function(){return this.$this.is("[data-jgallery-id]")},update:function(s){d.fn.jGalleryOptions[this.intId]=this.initialized()?d.extend(d.fn.jGalleryOptions[this.intId],s):d.extend({},h,s);if(d.fn.jGalleryOptions[this.intId].disabledOnIE7AndOlder&&r()){return}this.booIsAlbums=this.$this.find(".album:has(a:has(img:first-child:last-child))").length>1;this.zoom.update();this.thumbnails.init();this.setUserOptions()},setVariables:function(){this.$element=d(".jgallery").filter('[data-jgallery-id="'+this.intId+'"]');this.progress=new f(this.$element.find(".zoom-container").children(".progress"),this.intId);this.zoom=new e(this);this.thumbnails=new j(this);this.zoom.setThumbnails(this.thumbnails)},show:function(){n.on("resize",{jGallery:this},this.windowOnResize);o.css({overflow:"hidden"});if(typeof this.$loader==="undefined"){this.zoom.loaderInit()}this.$element.not(":visible").removeClass("hidden").stop(false,true).fadeIn(500);this.thumbnails.show();this.zoom.refreshContainerSize();o.overlay({show:true,showLoader:false});this.zoom.$title.removeClass("hidden");d.fn.jGalleryOptions[this.intId].showGallery()},hide:function(){if(!d.fn.jGalleryOptions[this.intId].canClose){return}this.$element.filter(":visible").stop(false,true).addClass("hidden").fadeOut(500,function(){o.css({overflow:"visible"})});this.zoom.booLoadingInProgress=false;clearTimeout(this.zoom.showPhotoTimeout);this.zoom.$title.addClass("hidden");this.zoom.$btnPrev.addClass("hidden");this.zoom.$btnNext.addClass("hidden");this.thumbnails.hide();this.zoom.slideshowStop();o.overlay({hide:true});n.off("resize",this.windowOnResize);d.fn.jGalleryOptions[this.intId].closeGallery()},init:function(){var s=this;k.append('<style type="text/css" data-jgallery-id="'+this.intId+'"></style>');d.fn.jGalleryOptions[this.intId].initGallery();this.$this.attr("data-jgallery-id",this.intId);this.generateHtml();new b(this.$this,this.booIsAlbums);this.setVariables();this.thumbnails.init();this.thumbnails.getElement().append('<span class="icon- icon-remove btn close btn-small"></span>');(function(){if(s.booIsAlbums){s.zoom.$container.find(".nav-bottom").append('                        <span class="icon- icon-list-ul change-album btn btn-small">                            <span class="menu btn"></span>                            <span class="title"></span>                        </span>                    ');s.iconChangeAlbum=new l(s.zoom.$container.find(".change-album"));s.thumbnails.$albums.each(function(){var t=d(this).attr("data-jgallery-album-title");s.iconChangeAlbum.appendToMenu('<span class="item" data-jgallery-album-title="'+t+'">'+t+"</span>")});s.thumbnails.getElement().append(s.iconChangeAlbum.getElement().outerHtml());s.iconChangeAlbum=new l(s.iconChangeAlbum.getElement().add(s.thumbnails.getElement().children(":last-child")));s.iconChangeAlbum.bindEvents(s)}})();s.setUserOptions();if(d.fn.jGalleryOptions[s.intId].zoomSize==="fit"||d.fn.jGalleryOptions[s.intId].zoomSize==="original"){s.zoom.$resize.addClass("icon-resize-full")}if(d.fn.jGalleryOptions[s.intId].zoomSize==="fill"){s.zoom.$resize.addClass("icon-resize-small")}if(!i()){s.$element.addClass("text-shadow")}s.thumbnails.refreshNavigation();s.zoom.refreshNav();s.zoom.refreshSize();this.$this.find("a").on({click:function(t){var u=d(this);t.preventDefault();s.thumbnails.setActiveAlbum(s.thumbnails.$albums.filter('[data-jgallery-album-title="'+u.parents("[data-jgallery-album-title]").attr("data-jgallery-album-title")+'"]'));s.zoom.showPhoto(u)}});s.thumbnails.$a.on({click:function(t){var u=d(this);t.preventDefault();if(u.is(":not(.active)")){s.zoom.slideshowStop();s.zoom.showPhoto(u)}else{if(s.thumbnails.isFullScreen()){s.thumbnails.changeViewToBar();s.zoom.refreshSize()}}}});s.zoom.$btnPrev.add(s.zoom.$container.find(".left")).on({click:function(){s.zoom.slideshowStop();s.zoom.showPrevPhoto()}});s.zoom.$btnNext.add(s.zoom.$container.find(".right")).on({click:function(){s.zoom.slideshowStop();s.zoom.showNextPhoto()}});s.zoom.$container.find(".close").on({click:function(){s.hide()}});s.zoom.$random.on({click:function(){s.zoom.slideshowRandomToggle()}});s.zoom.$resize.on({click:function(){s.zoom.toggleSize()}});s.zoom.$slideshow.on({click:function(){s.zoom.slideshowPlayStop()}});s.thumbnails.bindEvents()},windowOnResize:function(s){s.data.jGallery.zoom.refreshSize();s.data.jGallery.thumbnails.refreshNavigation()},getCanvasRatioWidthToHeight:function(){var t;var s;if(this.thumbnails.isHorizontal()){t=this.$element.width();s=this.$element.height()-this.thumbnails.getElement().outerHeight(true)}else{if(this.thumbnails.isVertical()){t=this.$element.width()-this.thumbnails.getElement().outerWidth(true);s=this.$element.height()}else{t=this.$element.width();s=this.$element.height()}}return t/s},setUserOptions:function(){d.fn.jGalleryOptions[this.intId].canResize?this.zoom.$resize.show():this.zoom.$resize.hide();d.fn.jGalleryOptions[this.intId].canClose?this.zoom.$container.find(".close").show():this.zoom.$container.find(".close").hide();if(!d.fn.jGalleryOptions[this.intId].thumbnails){this.thumbnails.getElement().hide();d.fn.jGalleryOptions[this.intId].thumbnailsPosition=""}else{this.thumbnails.getElement().show();if(d.fn.jGalleryOptions[this.intId].thumbnailsPosition===""){d.fn.jGalleryOptions[this.intId].thumbnailsPosition=h.thumbnailsPosition}}d.fn.jGalleryOptions[this.intId].slideshow?this.zoom.$slideshow.show():this.zoom.$slideshow.hide();d.fn.jGalleryOptions[this.intId].slideshow&&d.fn.jGalleryOptions[this.intId].slideshowCanRandom?this.zoom.$random.show():this.zoom.$random.hide();d.fn.jGalleryOptions[this.intId].slideshow&&d.fn.jGalleryOptions[this.intId].slideshowCanRandom&&d.fn.jGalleryOptions[this.intId].slideshowRandom?this.zoom.$random.addClass("active"):this.zoom.$random.removeClass("active");d.fn.jGalleryOptions[this.intId].thumbnailsFullScreen?this.zoom.$element.find(".full-screen").add(this.thumbnails.getElement().find(".close")).show():this.zoom.$element.find(".full-screen").add(this.thumbnails.getElement().find(".close")).hide();d.fn.jGalleryOptions[this.intId].thumbnailsFullScreen?this.zoom.$container.find(".change-album").show():this.zoom.$container.find(".change-album").hide();this.setColours({strBg:d.fn.jGalleryOptions[this.intId].backgroundColor,strText:d.fn.jGalleryOptions[this.intId].textColor})},setColours:function(s){k.find('style[data-jgallery-id="'+this.intId+'"]').html(this.getCssForColours(s))},generateHtml:function(){d("body").append('                <div class="jgallery" style="display: none;" data-jgallery-id="'+this.intId+'">                    <div class="thumbnails hidden">                        <div class="container"><div class="container-inner"></div></div>                        <span class="prev btn hidden"><span class="icon-chevron-left ico"></span></span>                        <span class="next btn hidden"><span class="icon-chevron-right ico"></span></span>                    </div>                    <div class="zoom-container">                        <div class="title before"></div>                        <div class="zoom before pt-perspective">                        </div>                        <div class="left"></div>                        <div class="right"></div>                        <span class="icon-chevron-left prev btn btn-large"></span>                        <span class="icon-chevron-right next btn btn-large"></span>                        <span class="progress"></span>                        <div class="nav">                            <span class="icon- resize btn btn-small"></span><span class="icon-remove close btn btn-small"></span>                        </div>                        <div class="nav-bottom">                            <span class="icon- icon-play slideshow btn btn-small"></span><span class="icon- icon-random random btn btn-small inactive"></span><span class="icon- icon-th full-screen btn btn-small"></span>                        </div>                    </div>                </div>')},getCssForColours:function(u){u=d.extend({strBg:"rgb( 0, 0, 0 )",strText:"rgb( 255, 255, 255 )"},u);var v=tinycolor(u.strBg).toRgb();var s=v.r+v.g+v.b>375?tinycolor.darken(u.strBg).toRgb():tinycolor.lighten(u.strBg).toRgb();var t=tinycolor(u.strText).toRgb();return'                .jgallery[data-jgallery-id="'+this.intId+'"] {                  background: rgb('+v.r+","+v.g+", "+v.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .btn {                  color: rgb('+t.r+","+t.g+", "+t.b+");                  background: rgb("+v.r+","+v.g+", "+v.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .btn.active {                  color: rgb('+t.r+","+t.g+", "+t.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .btn:hover {                  text-shadow: none;                  text-shadow: 0 0 .15em rgba('+t.r+","+t.g+", "+t.b+",.75), 0 0 .45em rgba("+t.r+","+t.g+", "+t.b+',.5);                }                .jgallery[data-jgallery-id="'+this.intId+'"] .change-album .menu {                  background: rgb('+s.r+","+s.g+", "+s.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .full-screen .change-album .menu {                  background: rgb('+v.r+","+v.g+", "+v.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .change-album .menu .item {                  border-color: rgb('+v.r+","+v.g+", "+v.b+");                  color: rgb("+t.r+","+t.g+", "+t.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .full-screen .change-album .menu .item {                  border-color: rgb('+s.r+","+s.g+", "+s.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .change-album .menu .item.active,                .jgallery[data-jgallery-id="'+this.intId+'"] .change-album .menu .item:hover {                  background: rgb('+t.r+","+t.g+", "+t.b+");                  color: rgb("+v.r+","+v.g+", "+v.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom .container {                  background: rgb('+v.r+","+v.g+", "+v.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .title {                  color: rgb('+t.r+","+t.g+", "+t.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom {                  background: rgb('+s.r+","+s.g+", "+s.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .thumbnails {                  background: rgb('+s.r+","+s.g+", "+s.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .thumbnails .ico {                  color: rgb('+t.r+","+t.g+", "+t.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .thumbnails.full-screen .prev:before {                  background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( '+s.r+","+s.g+", "+s.b+", 1 )),to(rgba( "+s.r+","+s.g+", "+s.b+", 0)));                  background-image: -webkit-linear-gradient(top,rgba( "+s.r+","+s.g+", "+s.b+", 1 ),0%,rgba( "+s.r+","+s.g+", "+s.b+", 0),100%);                  background-image: -moz-linear-gradient(top,rgba( "+s.r+","+s.g+", "+s.b+", 1 ) 0%,rgba( "+s.r+","+s.g+", "+s.b+", 0) 100%);                  background-image: linear-gradient(to bottom,rgba( "+s.r+","+s.g+", "+s.b+", 1 ) 0%,rgba( "+s.r+","+s.g+", "+s.b+', 0) 100%);                  background-repeat: repeat-x;                }                .jgallery[data-jgallery-id="'+this.intId+'"] .thumbnails.full-screen .next:before {                  background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( '+s.r+","+s.g+", "+s.b+", 0)),to(rgba( "+s.r+","+s.g+", "+s.b+", 1)));                  background-image: -webkit-linear-gradient(top,rgba( "+s.r+","+s.g+", "+s.b+", 0),0%,rgba( "+s.r+","+s.g+", "+s.b+", 1),100%);                  background-image: -moz-linear-gradient(top,rgba( "+s.r+","+s.g+", "+s.b+", 0) 0%,rgba( "+s.r+","+s.g+", "+s.b+", 1) 100%);                  background-image: linear-gradient(to bottom,rgba( "+s.r+","+s.g+", "+s.b+", 0) 0%,rgba( "+s.r+","+s.g+", "+s.b+', 1) 100%);                  background-repeat: repeat-x;                }                .jgallery[data-jgallery-id="'+this.intId+'"] .thumbnails.images a:after {                  background: rgb('+s.r+","+s.g+", "+s.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .thumbnails.full-screen .prev,                .jgallery[data-jgallery-id="'+this.intId+'"] .thumbnails.full-screen .next {                  background: rgb('+s.r+","+s.g+", "+s.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .thumbnails.square a {                  background: rgb('+t.r+","+t.g+", "+t.b+");                  color: rgb("+v.r+","+v.g+", "+v.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .overlayContainer .overlay {                  background: rgba('+v.r+","+v.g+", "+v.b+",.8);                  color: rgb("+t.r+","+t.g+", "+t.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .overlayContainer .imageLoaderPositionAbsolute:after {                  border-color: rgba('+t.r+","+t.g+", "+t.b+', .5 );                }                .jgallery[data-jgallery-id="'+this.intId+'"] .thumbnails-horizontal .prev {                  background: rgb('+s.r+","+s.g+", "+s.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .thumbnails-horizontal .prev:before {                  background-image: -webkit-gradient(linear,0% top,100% top,from(rgba( '+s.r+","+s.g+", "+s.b+", 1 )),to(rgba( "+s.r+","+s.g+", "+s.b+", 0 )));                  background-image: -webkit-linear-gradient(left,color-stop(rgba( "+s.r+","+s.g+", "+s.b+", 1 ) 0%),color-stop(rgba( "+s.r+","+s.g+", "+s.b+", 0 ) 100%));                  background-image: -moz-linear-gradient(left,rgba( "+s.r+","+s.g+", "+s.b+", 1 ) 0%,rgba( "+s.r+","+s.g+", "+s.b+", 0 ) 100%);                  background-image: linear-gradient(to right,rgba( "+s.r+","+s.g+", "+s.b+", 1 ) 0%,rgba( "+s.r+","+s.g+", "+s.b+', 0 ) 100%);                  background-repeat: repeat-x;                }                .jgallery[data-jgallery-id="'+this.intId+'"] .thumbnails-horizontal .next {                  background: rgb('+s.r+","+s.g+", "+s.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .thumbnails-horizontal .next:before {                  background-image: -webkit-gradient(linear,0% top,100% top,from(rgba( '+s.r+","+s.g+", "+s.b+", 0 )),to(rgba( "+s.r+","+s.g+", "+s.b+", 1 )));                  background-image: -webkit-linear-gradient(left,color-stop(rgba( "+s.r+","+s.g+", "+s.b+", 0 ) 0%),color-stop(rgba( "+s.r+","+s.g+", "+s.b+", 1 ) 100%));                  background-image: -moz-linear-gradient(left,rgba( "+s.r+","+s.g+", "+s.b+", 0 ) 0%,rgba( "+s.r+","+s.g+", "+s.b+", 1 ) 100%);                  background-image: linear-gradient(to right,rgba( "+s.r+","+s.g+", "+s.b+", 0 ) 0%,rgba( "+s.r+","+s.g+", "+s.b+', 1 ) 100%);                  background-repeat: repeat-x;                }                .jgallery[data-jgallery-id="'+this.intId+'"] .thumbnails-vertical .prev {                  background: rgb('+s.r+","+s.g+", "+s.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .thumbnails-vertical .prev:before {                  background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( '+s.r+","+s.g+", "+s.b+", 1 )),to(rgba( "+s.r+","+s.g+", "+s.b+", 0 )));                  background-image: -webkit-linear-gradient(top,rgba( "+s.r+","+s.g+", "+s.b+", 1 ),0%,rgba( "+s.r+","+s.g+", "+s.b+", 0 ),100%);                  background-image: -moz-linear-gradient(top,rgba( "+s.r+","+s.g+", "+s.b+", 1 ) 0%,rgba( "+s.r+","+s.g+", "+s.b+", 0 ) 100%);                  background-image: linear-gradient(to bottom,rgba( "+s.r+","+s.g+", "+s.b+", 1 ) 0%,rgba( "+s.r+","+s.g+", "+s.b+', 0 ) 100%);                  background-repeat: repeat-x;                }                .jgallery[data-jgallery-id="'+this.intId+'"] .thumbnails-vertical .next {                  background: rgb('+s.r+","+s.g+", "+s.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .thumbnails-vertical .next:before {                  background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( '+s.r+","+s.g+", "+s.b+", 0 )),to(rgba( "+s.r+","+s.g+", "+s.b+", 1 )));                  background-image: -webkit-linear-gradient(top,rgba( "+s.r+","+s.g+", "+s.b+", 0 ),0%,rgba( "+s.r+","+s.g+", "+s.b+", 1 ),100%);                  background-image: -moz-linear-gradient(top,rgba( "+s.r+","+s.g+", "+s.b+", 0 ) 0%,rgba( "+s.r+","+s.g+", "+s.b+", 1 ) 100%);                  background-image: linear-gradient(to bottom,rgba( "+s.r+","+s.g+", "+s.b+", 0 ) 0%,rgba( "+s.r+","+s.g+", "+s.b+", 1 ) 100%);                  background-repeat: repeat-x;                }            "}};d.fn.jGallery=function(s){s=d.extend(h,s);return this.each(function(){var t=d(this);if(!t.is("[data-jgallery-id]")){d.fn.jGalleryCollection[++a]=new m(t,s)}else{d.fn.jGalleryCollection[t.attr("data-jgallery-id")].update(s)}})};d.fn.jGalleryOptions=[];d.fn.jGalleryCollection=[""];var p=0;var c=function(s){if(s.is("[data-advanced-animation-id]")){return}this.cols=1;this.rows=1;this.direction="forward";this.$element=s;this.$element.filter(":not( [data-advanced-animation-id] )").attr("data-advanced-animation-id",++p);this.$element.find(".pt-item").wrap('<div class="pt-page" />');this.$element.wrapInner('<div class="pt-part" />');this.generateHtml();this._showParts(this.$element.find(".pt-part"),1)};c.prototype={next:function(){var s=this.$element.find(".pt-part").eq(this.direction==="backward"?-1:0).find(".pt-page-current:not(.pt-page-prev)").next();if(s.length){this.show(s)}else{this.show(this.$element.find(".pt-part").eq(this.direction==="backward"?-1:0).find(".pt-page").eq(0))}},show:function(s){var t=s.prevAll().length+1;if(s.is(".pt-page-current:not(.pt-page-prev)")){return}this._waveJumpToEnd();this._runWave(t);this.intPrevPtPageNumber=t},setQuantityParts:function(t,s){this.cols=t;this.rows=s;this.generateHtml()},setDuration:function(){var u=this.$element.attr("data-advanced-animation-id");var t=this.duration*(this.$element.find(".pt-part").length>1?0.75:1)/1000+"s";var s=k.find('style[data-advanced-animation-id="'+u+'"]');if(q()){return}if(s.length===0){s=k.append('<style type="text/css" data-advanced-animation-id="'+u+'" />').children(":last-child")}s.html('                [data-advanced-animation-id="'+u+'"] .pt-page {                    -webkit-animation-duration: '+t+";                    -moz-animation-duration: "+t+";                    animation-duration: "+t+";                }            ")},setHideEffect:function(s){this.hideEffect=s;if(/moveTo/.test(s)||/rotateRoom/.test(s)){this.$element.find(".pt-part").addClass("hide-overflow")}else{this.$element.find(".pt-part").removeClass("hide-overflow")}},setShowEffect:function(s){this.showEffect=s},setDirection:function(s){this.direction=s},_runWave:function(s){this.$element.find(".pt-part").addClass("in-queue");this._showNextPart(s)},_waveJumpToEnd:function(){clearTimeout(this.showPartsTimeout);if(typeof this.intPrevPtPageNumber!=="undefined"){this._showParts(this.$element.find(".pt-part.in-queue").removeClass("in-queue"),this.intPrevPtPageNumber)}},_showNextPart:function(t){var s=this;var u=this.$element.find(".pt-part.in-queue").eq(this.direction==="backward"?-1:0);if(u.length===0){return}this._showParts(u.removeClass("in-queue"),t);if(u.length===0){return}clearTimeout(this.showPartsTimeout);this.showPartsTimeout=setTimeout(function(){s._showNextPart(t)},this.duration*0.25/Math.max(1,this.$element.find(".pt-part").length-1))},_showParts:function(t,s){t.find(".pt-page-current.pt-page-prev").removeClass("pt-page-prev").removeClass("pt-page-current");t.find(".pt-page-current").addClass("pt-page-prev");t.find(".pt-page:nth-child("+s+")").addClass("pt-page-current");t.find(".pt-page").removeClass(this.hideEffect).removeClass(this.showEffect);t.find(".pt-page-prev").addClass(this.hideEffect);t.find(".pt-page-current:not(.pt-page-prev)").addClass(this.showEffect)},generateHtml:function(){var u;var t;var s;this.$element.html(this.$element.find(".pt-part").eq(0).html());s=this.$element.html();this.$element.children(".pt-part").remove();for(t=0;t<this.rows;t++){for(u=0;u<this.cols;u++){this.$element.append('<div class="pt-part pt-perspective" data-col-no="'+u+'" data-row-no="'+t+'" style="position: absolute;"></div>').children(":last-child").html(s).find(".pt-item")}}this.setPositionParts();this.$element.children(":not(.pt-part)").remove()},setPositionParts:function(){var t=this;var v=this.$element.outerWidth();var u=this.$element.outerHeight();var w=v/this.cols;var s=u/this.rows;this.$element.find(".pt-part").each(function(){var z=d(this);var y=z.attr("data-col-no");var x=z.attr("data-row-no");z.css({left:t.$element.outerWidth()*(100/t.cols*y)/100+"px",top:t.$element.outerHeight()*(100/t.rows*x)/100+"px",width:t.$element.outerWidth()*(100/t.cols)/100+1+"px",height:t.$element.outerHeight()*(100/t.rows)/100+1+"px"}).find(".pt-item").css({width:v,height:u,left:-w*y,top:-s*x})})}};d.fn.overlay=function(s){var t={show:false,hide:false,showLoader:false,hideLoader:false,fadeIn:true,fadeOut:true,fadeInLoader:true,fadeOutLoader:true,afterInit:function(){}};s=d.extend({},t,s);this.each(function(){var B=d(this),C,A,z=B.is(".overlayContainer:has(.overlay)"),y=function(){var G=Math.max(B.offset().top,d("body, html").scrollTop()),F=Math.min(B.offset().top+B.outerHeight(),d("body, html").scrollTop()+d(window).height()),E=G+(F-G)/2-B.offset().top;A.css({top:E+"px"})},w=function(){B.children(".overlay").css({width:B.outerWidth(),height:B.is("body")?d("html").outerHeight():B.outerHeight()})},x=function(){s.fadeIn?C.fadeIn(500):C.show()},v=function(){s.fadeOut?C.fadeOut(500):C.hide()},D=function(){s.fadeInLoader?A.not(":visible").fadeIn(500):A.not(":visible").show()},u=function(){s.fadeOutLoader?A.filter(":visible").fadeOut(500):A.filter(":visible").hide()};d(window).scroll(function(){y()});d(window).resize(function(){y();w()});if(B.is("table")){if(B.parent().is(".overlayContainer")){B=B.parent()}}if(!z){if(B.is("table")){B.wrap("<div></div>");B=B.parent()}B.addClass("overlayContainer");B.append('<div class="overlay" style="display: none;"><div class="imageLoaderPositionAbsolute" style="display: none;"></div></div>');s.afterInit()}C=B.children(".overlay");A=B.find(".imageLoaderPositionAbsolute");C.stop(false,true);A.stop(false,true);if(s.show){x()}else{if(s.hide){v()}}if(s.showLoader){D()}else{if(s.hideLoader){u()}}y();w()})};d.fn.jLoader=function(s){s=d.extend({interval:1000,skip:":not(*)",start:function(){d("body").overlay({fadeIn:false,fadeOut:false,show:true,showLoader:true});d("body").show()},success:function(){d("body").overlay({hide:true})},progress:function(){}},s);this.each(function(){var y=d(this);var w=d();var u=d();var x;var v=0;function t(){var A=true;var C=0;var z=0;var B;u.each(function(){C++;if(d(this)[0].complete){z++}else{A=false}if(C===v){B=parseInt(z*100/v);s.progress({percent:B});if(A){clearTimeout(x);w.remove();s.success()}else{x=setTimeout(t,s.interval)}}})}y.append('<div class="jLoaderTmp" style="position: absolute; width: 0; height: 0; line-height: 0; font-size: 0; visibility: hidden; overflow: hidden; z-index: -1;"></div>');w=y.children(".jLoaderTmp:last-child");d(y).add(y.find("*")).not(s.skip).each(function(){var z;if(d(this).css("background-image")!=="none"){z=d(this).css("background-image");if(/url/.exec(z)){z=z.replace('"',"").replace("'","").replace(" ","").replace("url(","").replace(")","");w.append('<img src="'+z+'">')}}});u=y.find("img:not( "+s.skip+")");if(y.is("img")){if(!y.is(s.skip)){u=u.add(y)}}v=parseInt(u.length);s.start();t()})};d.fn.outerHtml=function(){return(!this.length)?this:(this[0].outerHTML||(function(s){var u=document.createElement("div");u.appendChild(s.cloneNode(true));var t=u.innerHTML;u=null;return t})(this[0]))};function i(){var u=false;if(navigator.appName==="Microsoft Internet Explorer"){var s=navigator.userAgent;var t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(t.exec(s)!==null){u=true}}return u}function r(){var u=false;if(navigator.appName==="Microsoft Internet Explorer"){var s=navigator.userAgent;var t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(t.exec(s)!==null){u=parseFloat(RegExp.$1);u=u<8}}return u}function q(){var u=false;if(navigator.appName==="Microsoft Internet Explorer"){var s=navigator.userAgent;var t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(t.exec(s)!==null){u=parseFloat(RegExp.$1);u=u<9}}return u}function g(s){return s.width()>s.height()}})(jQuery);