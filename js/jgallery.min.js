/*!
 * jGallery v0.9.4
 * http://jgallery.jakubkowalczyk.pl/
 *
 * Released under the MIT license
 *
 * Date: 2013-11-08 
 */
(function(e){e.fn.jGallery=function(l){var o={autostart:false,canClose:true,canResize:true,backgroundColor:"#000",textColor:"#fff",thumbnails:true,thumbnailsFullScreen:true,thumbType:"image",thumbnailsPosition:"bottom",thumbWidth:100,thumbHeight:100,thumbWidthOnFullScreen:100,thumbHeightOnFullScreen:100,showEffect:"rotate-room-right",hideEffect:"rotate-room-right",showTimingFunction:"linear",hideTimingFunction:"linear",showDuration:"0.5s",hideDuration:"0.5s",zoomSize:"fitToWindow",title:true,titleShowEffect:"fade",titleHideEffect:"fade",titleShowTimingFunction:"ease",titleHideTimingFunction:"ease",titleShowDuration:"0.5s",titleHideDuration:"0.5s",slideshow:true,slideshowAutostart:false,slideshowCanRandom:true,slideshowRandom:false,slideshowRandomAutostart:false,slideshowInterval:"8s",preloadAll:false,disabledOnIE7AndOlder:true,initGallery:function(){},showPhoto:function(){},beforeLoadPhoto:function(){},afterLoadPhoto:function(){},showGallery:function(){},closeGallery:function(){}};var m=["slide-up","slide-down","slide-right","slide-left","slide-up-left","slide-up-right","slide-down-left","slide-down-right","fade"];var n=m.length;var p=e(window);function k(ac){var aq=e("head");var aj;var Z;var a7;var at;var aQ;var aG;var N;var S=e();var O=e();var aT;var F=e();var A;var H;var ap;var aL;var aV;var aM;var aS;var ak;var a2;var a0;var aa;var aN;var ab;var al;var w;var aJ=false;var ae;var aW=false;var a5;var aE;var t;var aU;var W=ac.find(".album:has(a:has(img:first-child:last-child))").length>1;var C=false;var z=parseInt(e(".jgallery").length+1);function u(){return ac.is("[data-jgallery-id]")}if(u()){z=ac.attr("data-jgallery-id")}e.fn.jGalleryOptions[z]=u()?e.extend(e.fn.jGalleryOptions[z],l):e.extend({},o,l);if(e.fn.jGalleryOptions[z].disabledOnIE7AndOlder&&f()){return}function ad(){aG=aN.find(".resize");e.fn.jGalleryOptions[z].canResize?aG.show():aG.hide();e.fn.jGalleryOptions[z].canClose?aN.find(".close").show():aN.find(".close").hide();if(!e.fn.jGalleryOptions[z].thumbnails){A.hide();e.fn.jGalleryOptions[z].thumbnailsPosition=""}else{A.show();if(e.fn.jGalleryOptions[z].thumbnailsPosition==""){e.fn.jGalleryOptions[z].thumbnailsPosition=o.thumbnailsPosition}}S=aN.find(".slideshow");e.fn.jGalleryOptions[z].slideshow?S.show():S.hide();O=aN.find(".random");e.fn.jGalleryOptions[z].slideshow&&e.fn.jGalleryOptions[z].slideshowCanRandom?O.show():O.hide();e.fn.jGalleryOptions[z].slideshow&&e.fn.jGalleryOptions[z].slideshowCanRandom&&e.fn.jGalleryOptions[z].slideshowRandom?O.addClass("active"):O.removeClass("active");aT=aN.find(".full-screen");aS=A.find(".close");e.fn.jGalleryOptions[z].thumbnailsFullScreen?aT.add(aS).show():aT.add(aS).hide();e.fn.jGalleryOptions[z].thumbnailsFullScreen?aN.find(".change-album").show():aN.find(".change-album").hide();aq.append(b({strBg:e.fn.jGalleryOptions[z].backgroundColor,strText:e.fn.jGalleryOptions[z].textColor}))}function ag(ba){ba.clear=function(){ba.stop(false,true).css({width:0});return ba};ba.start=function(bb,bc){ba.animate({width:bb},parseInt(e.fn.jGalleryOptions[z].slideshowInterval)*1000,"linear",bc);return ba};ba.pause=function(){ba.stop(true).clear();return ba};return ba}function aX(bb){var ba=bb.find(".title");bb.setTitle=function(bc){ba.html(bc)};bb.getTitle=function(){return ba.html()};return bb}function R(){aj=e("body");a7=e(".jgallery").filter('[data-jgallery-id="'+z+'"]');aN=a7.children(".zoom-container");al=aN.children(".title");at=aN.children(".prev");aQ=aN.children(".next");aa=aN.children(".zoom");N=ag(aN.children(".progress"));A=a7.find(".thumbnails");H=A.find(".container");ap=A.children(".prev");aL=A.children(".next");aV=A.find("a");aM=A.find("img");a2=A.find(".album");if(a2.length==0){a2=A.find(".container-inner").addClass("active")}}if(u()){R();M();a6();ad();return}function I(){var bb;var be=1;var bd=1;var ba=e(".jgallery").eq(-1).find(".thumbnails .container-inner");function bc(bh,bi){var bg=1;bh.find("a:has(img:first-child:last-child)").each(function(){bi.append(e(this).addClass("hidden"));bi.children(":last-child").attr("data-jgallery-photo-id",be++).attr("data-jgallery-number",bg++)})}function bf(){var bh=e(this);var bg=bh.is("[data-jgallery-album-title]")?bh.attr("data-jgallery-album-title"):"Album "+bd;var bi=ba.append('<div class="album" data-jgallery-album-title="'+bg+'"></div>').children(":last-child");if(bd==1){bi.addClass("active")}bc(bh,bi);bd++}e("body").append('<div id="jGalleryTmp" style="position: absolute; top: 0; left: 0; width: 0; height: 0; z-index: -1; overflow: hidden;">'+ac.html()+"</div>");bb=e("#jGalleryTmp");if(W){bb.find(".album:has(a:has(img:first-child:last-child))").each(bf)}else{bc(bb,ba)}bb.remove()}function aB(){e.fn.jGalleryOptions[z].initGallery();ac.attr("data-jgallery-id",z);e("body").append('                    <div class="jgallery" style="display: none;" data-jgallery-id="'+z+'">                        <div class="thumbnails hidden">                            <div class="container"><div class="container-inner"></div></div>                            <span class="prev btn hidden"><span class="icon-chevron-left ico"></span></span>                            <span class="next btn hidden"><span class="icon-chevron-right ico"></span></span>                        </div>                        <div class="zoom-container">                            <div class="title before"></div>                            <div id="pt-main" class="zoom before pt-perspective">                                <div class="left" />                                <div class="right" />                            </div>                            <span class="icon-chevron-left prev btn btn-large"></span>                            <span class="icon-chevron-right next btn btn-large"></span>                            <span class="progress"></span>                            <div class="nav"></div>                            <div class="nav-bottom"></div>                            <canvas id="canvas" width="1920" height="1200"></canvas>                        </div>                    </div>');I();R();M();a6();aN.find(".nav").append('<span class="icon- resize btn btn-small"></span>');aN.find(".nav").append('<span class="icon-remove close btn btn-small"></span>');aN.find(".nav-bottom").append('<span class="icon- icon-play slideshow btn btn-small"></span>');aN.find(".nav-bottom").append('<span class="icon- icon-random random btn btn-small inactive"></span>');aN.find(".nav-bottom").append('<span class="icon- icon-th full-screen btn btn-small"></span>');A.append('<span class="icon- icon-remove btn close btn-small"></span>');(function(){if(W){aN.find(".nav-bottom").append('                            <span class="icon- icon-list-ul change-album btn btn-small">                                <span class="menu btn"></span>                                <span class="title"></span>                            </span>                        ');F=new aX(aN.find(".change-album"));ak=F.find(".menu");a2.each(function(){var ba=e(this).attr("data-jgallery-album-title");ak.append('<span class="item" data-jgallery-album-title="'+ba+'">'+ba+"</span>")});A.append(F.outerHtml());F=new aX(F.add(A.children(":last-child")))}})();ad();if(e.fn.jGalleryOptions[z].zoomSize=="fitToWindow"){aG.addClass("icon-resize-full")}if(e.fn.jGalleryOptions[z].zoomSize=="100%"){aG.addClass("icon-resize-small")}a8();a9();J();aA();aZ()}function a6(){A.removeClass("square number images thumbnails-left thumbnails-right thumbnails-top thumbnails-bottom thumbnails-horizontal thumbnails-vertical");A.addClass("thumbnails-"+e.fn.jGalleryOptions[z].thumbnailsPosition);if(ai()){A.addClass("thumbnails-vertical")}if(P()){A.addClass("thumbnails-horizontal")}if(e.fn.jGalleryOptions[z].thumbType=="image"){aR()}if(e.fn.jGalleryOptions[z].thumbType=="square"){X()}if(e.fn.jGalleryOptions[z].thumbType=="number"){ax()}}function X(){A.addClass("square")}function ax(){A.addClass("number");X()}function aR(){A.addClass("images");e("head").append('                    <style type="text/css">\n                        .jgallery .thumbnails a {\n                            width: '+e.fn.jGalleryOptions[z].thumbWidth+"px;\n                            height: "+e.fn.jGalleryOptions[z].thumbHeight+"px;\n                            font-size: "+e.fn.jGalleryOptions[z].thumbHeight+"px;\n                        }\n                        .jgallery .thumbnails.full-screen a {\n                            width: "+e.fn.jGalleryOptions[z].thumbWidthOnFullScreen+"px;\n                            height: "+e.fn.jGalleryOptions[z].thumbHeightOnFullScreen+"px;\n                            font-size: "+e.fn.jGalleryOptions[z].thumbHeightOnFullScreen+"px;\n                        }\n                        .jgallery .thumbnails-horizontal {\n                            height: "+parseInt(e.fn.jGalleryOptions[z].thumbHeight+2)+"px;\n                        }\n                        .jgallery .thumbnails-vertical {\n                            width: "+parseInt(e.fn.jGalleryOptions[z].thumbWidth+2)+"px;\n                        }\n                        .jgallery .thumbnails-top.hidden {\n                            top: -"+e.fn.jGalleryOptions[z].thumbHeight+"px;\n                        }\n                        .jgallery .thumbnails-bottom.hidden {\n                            bottom: -"+e.fn.jGalleryOptions[z].thumbHeight+"px;\n                        }\n                        .jgallery .thumbnails-left.hidden {\n                            left: -"+e.fn.jGalleryOptions[z].thumbWidth+"px;\n                        }\n                        .jgallery .thumbnails-right.hidden {\n                            right: -"+e.fn.jGalleryOptions[z].thumbWidth+"px;\n                        }\n                    </style>\n                ");if(u()){return}an()}function P(){return e.fn.jGalleryOptions[z].thumbnailsPosition=="top"||e.fn.jGalleryOptions[z].thumbnailsPosition=="bottom"}function ai(){return e.fn.jGalleryOptions[z].thumbnailsPosition=="left"||e.fn.jGalleryOptions[z].thumbnailsPosition=="right"}function aZ(){ac.find("a").on({click:function(ba){var bb=e(this);ba.preventDefault();G(a2.filter('[data-jgallery-album-title="'+bb.parents("[data-jgallery-album-title]").attr("data-jgallery-album-title")+'"]'));aY(bb)}});aV.on({click:function(ba){var bb=e(this);ba.preventDefault();if(bb.is(":not(.active)")){r();aY(bb)}else{if(y()){aH()}}}});ap.on({click:function(){E()}});aL.on({click:function(){K()}});at.add(aa.find(".left")).on({click:function(){r();q()}});aQ.add(aa.find(".right")).on({click:function(){r();U()}});aN.find(".close").on({click:function(){aD()}});O.on({click:function(){s()}});aG.on({click:function(){aw()}});S.on({click:function(){D()}});aT.on({click:function(){aI()}});aS.on({click:function(){aH()}});F.on({click:function(ba){v();ba.stopPropagation()}});F.find(".item").on({click:function(){var ba=e(this);if(ba.is(".active")){return}G(a2.filter('[data-jgallery-album-title="'+ba.attr("data-jgallery-album-title")+'"]'))}})}function v(){F.toggleClass("active")}function Y(){F.removeClass("active")}function M(){if(!e.fn.jGalleryOptions[z].preloadAll){return}aV.each(function(){var ba=e(this);if(!a4(ba)){aa.append('<div class="container pt-page before '+x(e.fn.jGalleryOptions[z].showEffect)+'"><img src="'+ba.attr("href")+'" /></div>')}})}function a8(){if(!c()){a7.addClass("text-shadow")}}function L(){var bb;var ba;if(P()){bb=a7.width();ba=a7.height()-A.outerHeight(true)}else{if(ai()){bb=a7.width()-A.outerWidth(true);ba=a7.height()}else{bb=a7.width();ba=a7.height()}}return bb/ba}function aA(){var ba=aN.find(".nav-bottom").outerHeight();aN.css({width:ai()?a7.width()-A.outerWidth(true):"auto",height:P()?a7.height()-A.outerHeight(true)-ba:a7.height()-ba,"margin-top":e.fn.jGalleryOptions[z].thumbnailsPosition=="top"?A.outerHeight(true):0,"margin-left":e.fn.jGalleryOptions[z].thumbnailsPosition=="left"?A.outerWidth(true):0,"margin-right":e.fn.jGalleryOptions[z].thumbnailsPosition=="right"?A.outerWidth(true):0})}function am(){var ba=aa.find("img.active");var bb=aN.find(".nav-bottom").outerHeight();ba.css({width:"auto",height:"auto","min-width":0,"min-height":0,"max-width":ai()?a7.width()-A.outerWidth(true):a7.width(),"max-height":P()?a7.height()-A.outerHeight(true)-bb:a7.height()-bb});ba.css({"margin-top":-ba.height()/2,"margin-left":-ba.width()/2});aG.addClass("icon-resize-full").removeClass("icon-resize-small")}function az(){var ba=aa.find("img.active");var bb=aN.find(".nav-bottom").outerHeight();ba.css({"max-width":"none","max-height":"none","min-width":ai()?a7.width()-A.outerWidth(true):a7.width(),"min-height":P()?a7.height()-A.outerHeight(true)-bb:a7.height()-bb});if(ae/L()>1){ba.css({width:"auto",height:P()?a7.height()-A.outerHeight(true)-bb:a7.height()-bb})}else{ba.css({width:ai()?a7.width()-A.outerWidth(true):a7.width(),height:"auto"})}ba.css({"margin-top":-ba.height()/2,"margin-left":-ba.width()/2});aG.addClass("icon-resize-small").removeClass("icon-resize-full")}function aF(){if(y()){return}aA();if(e.fn.jGalleryOptions[z].zoomSize=="fitToWindow"){am()}else{if(e.fn.jGalleryOptions[z].zoomSize=="100%"){az()}}aa.addClass("visible")}function aw(){var ba=aa.find("img.active");ba.stop(false,true).fadeOut(parseFloat(e.fn.jGalleryOptions[z].showDuration)*1000,function(){if(e.fn.jGalleryOptions[z].zoomSize=="fitToWindow"){e.fn.jGalleryOptions[z].zoomSize="100%";az()}else{if(e.fn.jGalleryOptions[z].zoomSize=="100%"){e.fn.jGalleryOptions[z].zoomSize="fitToWindow";am()}}ba.fadeIn(parseFloat(e.fn.jGalleryOptions[z].hideDuration)*1000)})}function a9(){if(ai()||y()){aP()}else{if(P()){T()}}}function T(){var bb=a2.filter(".active");var ba=e.fn.jGalleryOptions[z].thumbType=="image"?aV.outerWidth(true)*bb.find("img").length:aV.outerWidth(true)*bb.find("a").length;H.scrollLeft()>0?ap.addClass("visible"):ap.removeClass("visible");ba>H.width()+H.scrollLeft()?aL.addClass("visible"):aL.removeClass("visible")}function aP(){H.scrollTop()>0?ap.addClass("visible"):ap.removeClass("visible");H.find(".container-inner").height()>H.height()+H.scrollTop()?aL.addClass("visible"):aL.removeClass("visible")}function J(){var ba=A.find(".active");ba.prev("a").length==1?at.removeClass("hidden"):at.addClass("hidden");ba.next("a").length==1?aQ.removeClass("hidden"):aQ.addClass("hidden")}function E(){if(ai()||y()){H.stop(false,true).animate({scrollTop:"-="+p.height()*0.7},function(){a9()})}else{if(P()){H.stop(false,true).animate({scrollLeft:"-="+p.width()*0.7},function(){a9()})}}}function K(){if(ai()||y()){H.stop(false,true).animate({scrollTop:"+="+p.height()*0.7},function(){a9()})}else{if(P()){H.stop(false,true).animate({scrollLeft:"+="+p.width()*0.7},function(){a9()})}}}function aI(){r();A.addClass("full-screen");if(P()){A.addClass("thumbnails-vertical").removeClass("thumbnails-horizontal")}aP()}function aH(){A.removeClass("full-screen");if(P()){A.addClass("thumbnails-horizontal").removeClass("thumbnails-vertical")}aF();a9()}function y(){return A.is(".full-screen")}function aD(){if(!e.fn.jGalleryOptions[z].canClose){return}a7.filter(":visible").stop(false,true).addClass("hidden").fadeOut(500,function(){aj.css({overflow:"visible"})});aW=false;clearTimeout(w);aa.hide().removeAttr("src");aN.find("img.active").removeClass("active");al.addClass("hidden");at.addClass("hidden");aQ.addClass("hidden");an();r();aj.overlay({hide:true});e.fn.jGalleryOptions[z].closeGallery()}function B(){aj.css({overflow:"hidden"});if(typeof a0=="undefined"){ay()}a7.not(":visible").removeClass("hidden").stop(false,true).fadeIn(500);aK();aA();aj.overlay({show:true,showLoader:false});al.removeClass("hidden");e.fn.jGalleryOptions[z].showGallery()}function aC(ba){if(P()){a1(ba)}if(ai()){av(ba)}}function a1(ba){H.stop(false,true).animate({scrollLeft:ba.position().left-H.scrollLeft()*-1-ba.outerWidth()/-2-H.outerWidth()/2},function(){a9()})}function av(ba){H.stop(false,true).animate({scrollTop:ba.position().top-H.scrollTop()*-1-ba.outerHeight()/-2-H.outerHeight()/2},function(){a9()})}function x(ba){return ba=="random"?m[Math.floor((Math.random()*n))]:ba}function aY(ba){var bb=ba.children("img");if(!u()){af()}if(aW){return}aW=true;e.fn.jGalleryOptions[z].showPhoto();if(a7.is(":not(:visible)")){B()}aH();if(W){if(F.getTitle()==""){F.setTitle(ba.parents(".album").eq(0).attr("data-jgallery-album-title"))}}Q(ba);if(aa.find("img.active").attr("src")===ba.attr("href")){aW=false;return}J();clearTimeout(Z);g(e(aa).add(ab),e.fn.jGalleryOptions[z].hideDuration);j(e(aa).add(ab),e.fn.jGalleryOptions[z].hideTimingFunction);aE=x(e.fn.jGalleryOptions[z].hideEffect);aa.addClass("zoom");aa.find("img.active").parent().removeClass("visible").removeClass(a5).addClass("after").addClass(aE);a5=x(e.fn.jGalleryOptions[z].showEffect);aa.find("img:not(.active)").parent().attr("class","container pt-page before "+a5);if(e.fn.jGalleryOptions[z].title){g(al,e.fn.jGalleryOptions[z].titleHideDuration);j(al,e.fn.jGalleryOptions[z].titleHideTimingFunction);aU=x(e.fn.jGalleryOptions[z].titleHideEffect);if(typeof t!="undefined"){al.removeClass(t)}al.addClass("after "+aU)}w=setTimeout(function(){var bc=a4(ba);if(!bc){aa.append('<div class="container pt-page before '+a5+'"><img src="'+ba.attr("href")+'" /></div>')}aN.find("img.active").removeClass();aN.find('[src="'+ba.attr("href")+'"]').addClass("active").parent().addClass(a5);if(e.fn.jGalleryOptions[z].title&&bb.is("[alt]")){t=x(e.fn.jGalleryOptions[z].titleShowEffect);al.removeClass(aU).addClass(t).removeClass("after").addClass("before")}if(!bc||(e.fn.jGalleryOptions[z].preloadAll&&!C)){C=true;aN.overlay({show:true,showLoader:true});e.fn.jGalleryOptions[z].beforeLoadPhoto();ao(aa,ba)}else{a3(bb)}},Math.max(parseFloat(e.fn.jGalleryOptions[z].hideDuration)*1000,parseFloat(e.fn.jGalleryOptions[z].titleHideDuration)*1000))}function a4(ba){return aa.find("img").filter('[src="'+ba.attr("href")+'"]').length>0}function ao(ba,bd){var be=bd.children("img");var bc=0;var bb=e.fn.jGalleryOptions[z].preloadAll?ba:ba.find("img.active");bb.jLoader({interval:500,skip:".loaded",start:function(){if(e.fn.jGalleryOptions[z].preloadAll){aN.find(".overlay .imageLoaderPositionAbsolute:not(:has(.progress-value))").addClass("preloadAll").append('<span class="progress-value"></span>');aN.find(".progress-value").html("0")}else{aN.find(".overlay .imageLoaderPositionAbsolute:not(:has(.icon-spin))").append('<span class="icon-spin icon-spinner"></span>')}},success:function(){ba.find("img").addClass("loaded");aN.overlay({hide:true,hideLoader:true});clearInterval(Z);Z=setTimeout(function(){a3(be)},500)},progress:function(bf){if(!e.fn.jGalleryOptions[z].preloadAll){return}bc=bf.percent;aN.find(".overlay .imageLoaderPositionAbsolute").find(".progress-value").html(bc)}})}function a3(bb){var ba=aa.find("img.active");g(e(aa).add(ab),e.fn.jGalleryOptions[z].showDuration);j(e(aa).add(ab),e.fn.jGalleryOptions[z].showTimingFunction);if(e.fn.jGalleryOptions[z].title&&bb.is("[alt]")){al.html(bb.attr("alt")).removeClass("before").removeClass("after");g(al,e.fn.jGalleryOptions[z].titleShowDuration);j(al,e.fn.jGalleryOptions[z].titleShowTimingFunction)}aa.show().find("img.active").parent().removeClass("before");ae=ba.width()/ba.height();aF();a9();if(aJ){V()}e.fn.jGalleryOptions[z].afterLoadPhoto();aW=false;if(e.fn.jGalleryOptions[z].autostart&&e.fn.jGalleryOptions[z].slideshowAutostart&&e.fn.jGalleryOptions[z].slideshow){e.fn.jGalleryOptions[z].slideshowAutostart=false;ah()}}function af(){e("body").overlay({imageLoaderPositionAbsolute:true,fadeIn:false,show:true});aB()}function q(){var ba=aV.filter(".active").prev("a");if(ba.length==1){aY(ba)}}function U(){var ba=aV.filter(".active").next("a");if(ba.length==1){aY(ba)}}function aO(){var ba=aV.filter(".active").next("a");if(ba.length==0){ba=a2.filter(".active").find("a").eq(0)}aY(ba)}function au(){var ba=a2.filter(".active").find("a:not(.active)");aY(ba.eq(Math.floor(Math.random()*ba.length)))}function an(){A.addClass("hidden");aV.addClass("hidden")}function aK(){if(!A.is(".hidden")){return}A.removeClass("hidden");if(!A.is(".loaded")){A.jLoader({start:function(){},success:function(){ar();aV.parent(".album:not(.active)").children(".hidden").removeClass("hidden");A.addClass("loaded");aM.each(function(){var ba=e(this);i(ba)?ba.css("max-height","100%"):ba.css("max-width","100%")})}})}else{ar()}}function ar(){var ba=aV.parent(".active").children(".hidden").eq(0);setTimeout(function(){ba.removeClass("hidden");if(ba.length){ar()}},70)}function Q(bb){var ba=bb.find("img");var bc=a2.filter(".active");var bb=bc.find('img[src="'+ba.attr("src")+'"]').parent("a");A.find("a").removeClass("active");bb.addClass("active");if(bc.find("a.active").length==0){bc.find("a:first-child").eq(0).addClass("active")}aC(bb)}function G(ba){if(!W){return}a2.not(ba.get(0)).removeClass("active");ba.addClass("active");ak.find(".item").removeClass("active").filter('[data-jgallery-album-title="'+ba.attr("data-jgallery-album-title")+'"]').addClass("active");F.setTitle(ba.attr("data-jgallery-album-title"));a9();if(!A.is(".full-screen")&&a7.is(":visible")){aY(ba.find("a").eq(0))}}function ay(){a0=e('body > .overlay > [class*="imageLoader"]');if(e.fn.jGalleryOptions[z].thumbnails){if(e.fn.jGalleryOptions[z].thumbnailsPosition=="top"){a0.css({"margin-top":"+="+A.outerHeight(true)/2})}if(e.fn.jGalleryOptions[z].thumbnailsPosition=="bottom"){a0.css({"margin-top":"-="+A.outerHeight(true)/2})}}}function D(){S.is(".icon-play")?ah():r()}function ah(){if(aW||aJ){return}aJ=true;S.removeClass("icon-play").addClass("icon-stop");V()}function r(){N.pause();S.removeClass("icon-stop").addClass("icon-play");aJ=false}function V(){N.clear().start(aN.width(),function(){N.clear();e.fn.jGalleryOptions[z].slideshowRandom?au():aO()})}function s(){if(e.fn.jGalleryOptions[z].slideshowRandom){O.removeClass("active");e.fn.jGalleryOptions[z].slideshowRandom=false}else{O.addClass("active");e.fn.jGalleryOptions[z].slideshowRandom=true}}if(e.fn.jGalleryOptions[z].autostart){aY(ac.find("a:has(img:first-child:last-child)").eq(0))}else{aB()}p.scroll(function(){aF();a9()});p.resize(function(){aF();a9()});e("html").on({keydown:function(ba){if(a7.is(":visible")){if(ba.which==27){ba.preventDefault();if(A.is(".full-screen")){aH();return}aD()}if(ba.which==37){ba.preventDefault();q()}if(ba.which==39){ba.preventDefault();U()}}},click:function(){Y()}})}return this.each(function(){k(e(this))})};e.fn.jGalleryOptions=[];e.fn.overlay=function(k){var l={show:false,hide:false,showLoader:false,hideLoader:false,fadeIn:true,fadeOut:true,fadeInLoader:true,fadeOutLoader:true,afterInit:function(){}};k=e.extend({},l,k);this.each(function(){var t=e(this),u,s,r=t.is(".overlayContainer:has(.overlay)"),q=function(){var y=Math.max(t.offset().top,e("body, html").scrollTop()),x=Math.min(t.offset().top+t.outerHeight(),e("body, html").scrollTop()+e(window).height()),w=y+(x-y)/2-t.offset().top;s.css({top:w+"px"})},o=function(){t.children(".overlay").css({width:t.outerWidth(),height:t.is("body")?e("html").outerHeight():t.outerHeight()})},p=function(){k.fadeIn?u.fadeIn(500):u.show()},n=function(){k.fadeOut?u.fadeOut(500):u.hide()},v=function(){k.fadeInLoader?s.not(":visible").fadeIn(500):s.not(":visible").show()},m=function(){k.fadeOutLoader?s.filter(":visible").fadeOut(500):s.filter(":visible").hide()};e(window).scroll(function(){q()});e(window).resize(function(){q();o()});if(t.is("table")){if(t.parent().is(".overlayContainer")){t=t.parent()}}if(!r){if(t.is("table")){t.wrap("<div></div>");t=t.parent()}t.addClass("overlayContainer");t.append('<div class="overlay" style="display: none;"><div class="imageLoaderPositionAbsolute" style="display: none;"></div></div>');k.afterInit()}u=t.children(".overlay");s=t.find(".imageLoaderPositionAbsolute");u.stop(false,true);s.stop(false,true);if(k.show){p()}else{if(k.hide){n()}}if(k.showLoader){v()}else{if(k.hideLoader){m()}}q();o()})};e.fn.jLoader=function(l){l=e.extend({interval:1000,skip:":not(*)",start:function(){e("body").overlay({fadeIn:false,fadeOut:false,show:true,showLoader:true});e("body").show()},success:function(){e("body").overlay({hide:true})},progress:function(){}},l);function k(m){return(/https?\:\/\//.exec(m))}this.each(function(){var s=e(this);var q=e();var o=e();var r;var p=0;function n(){var u=true;var w=0;var t=0;var v;o.each(function(){w++;if(e(this)[0].complete){t++}else{u=false}if(w==p){v=parseInt(t*100/p);l.progress({percent:v});if(u){clearTimeout(r);q.remove();l.success()}else{r=setTimeout(n,l.interval)}}})}function m(){var u=o.eq(0);var t=new XMLHttpRequest();t.open("GET",u.attr("src"),true);t.onprogress=function(v){if(v.lengthComputable){l.progress({percent:parseInt(v.loaded/v.total*100)})}};t.onloadend=function(){q.remove();l.success()};t.send()}s.append('<div class="jLoaderTmp" style="position: absolute; width: 0; height: 0; line-height: 0; font-size: 0; visibility: hidden; overflow: hidden; z-index: -1;"></div>');q=s.children(".jLoaderTmp:last-child");e(s).add(s.find("*")).not(l.skip).each(function(){var t;if(e(this).css("background-image")!="none"){t=e(this).css("background-image");if(/url/.exec(t)){t=t.replace('"',"").replace("'","").replace(" ","").replace("url(","").replace(")","");q.append('<img src="'+t+'">')}}});o=s.find("img:not( "+l.skip+")");if(s.is("img")){if(!s.is(l.skip)){o=o.add(s)}}p=parseInt(o.length);l.start();n()})};e.fn.outerHtml=function(){return(!this.length)?this:(this[0].outerHTML||(function(k){var m=document.createElement("div");m.appendChild(k.cloneNode(true));var l=m.innerHTML;m=null;return l})(this[0]))};function a(k){return e.browser.webkit?k.css("-webkit-transition"):k.css("transition")}function d(k,l){k.css({"-webkit-transition":l,"-moz-transition-duration":l,"-o-transition-duration":l,transition:l})}function g(l,k){l.css({"-webkit-transition-duration":k,"-moz-transition-duration":k,"-o-transition-duration":k,"transition-duration":k})}function j(l,k){l.css({"-webkit-transition-timing-function":k,"-moz-transition-timing-function":k,"-o-transition-timing-function":k,"transition-timing-function":k})}function c(){var m=false;if(navigator.appName=="Microsoft Internet Explorer"){var k=navigator.userAgent;var l=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(l.exec(k)!=null){m=true}}return m}function f(){var m=false;if(navigator.appName=="Microsoft Internet Explorer"){var k=navigator.userAgent;var l=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(l.exec(k)!=null){m=parseFloat(RegExp.$1);m=m<8}}return m}function h(l,k){return Math.floor(Math.random()*(k-l+1))+l}function i(k){return k.width()>k.height()}function b(m){m=e.extend({strBg:"rgb( 0, 0, 0 )",strText:"rgb( 255, 255, 255 )"},m);var n=tinycolor(m.strBg).toRgb();var k=n.r+n.g+n.b>375?tinycolor.darken(m.strBg).toRgb():tinycolor.lighten(m.strBg).toRgb();var l=tinycolor(m.strText).toRgb();return'            <style type="text/css">            .jgallery {              background: rgb('+n.r+","+n.g+", "+n.b+");            }            .jgallery .btn {              color: rgb("+l.r+","+l.g+", "+l.b+");              background: rgb("+n.r+","+n.g+", "+n.b+");            }            .jgallery .btn.active {              color: rgb("+l.r+","+l.g+", "+l.b+");            }            .jgallery .btn:hover {              text-shadow: none;              text-shadow: 0 0 .15em rgba("+l.r+","+l.g+", "+l.b+",.75), 0 0 .45em rgba("+l.r+","+l.g+", "+l.b+",.5);            }            .jgallery .change-album .menu {              background: rgb("+n.r+","+n.g+", "+n.b+");            }            .jgallery .change-album .menu .item {              border-color: rgb("+n.r+","+n.g+", "+n.b+");              color: rgb("+l.r+","+l.g+", "+l.b+");            }            .jgallery .change-album .menu .item:hover {              background: rgb("+l.r+","+l.g+", "+l.b+");              color: rgb("+n.r+","+n.g+", "+n.b+");            }            .jgallery .zoom-container .title {              color: rgb("+l.r+","+l.g+", "+l.b+");            }            .jgallery .zoom-container .nav-bottom {              background: rgb("+k.r+","+k.g+", "+k.b+");            }            .jgallery .zoom-container .nav-bottom .btn {                background: rgb("+k.r+","+k.g+", "+k.b+");            }            .jgallery .thumbnails {              background: rgb("+k.r+","+k.g+", "+k.b+");            }            .jgallery .thumbnails .ico {              color: rgb("+l.r+","+l.g+", "+l.b+");            }            .jgallery .thumbnails.full-screen .prev:before {              background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( "+n.r+","+n.g+", "+n.b+", 1 )),to(rgba( "+n.r+","+n.g+", "+n.b+", 0)));              background-image: -webkit-linear-gradient(top,rgba( "+n.r+","+n.g+", "+n.b+", 1 ),0%,rgba( "+n.r+","+n.g+", "+n.b+", 0),100%);              background-image: -moz-linear-gradient(top,rgba( "+n.r+","+n.g+", "+n.b+", 1 ) 0%,rgba( "+n.r+","+n.g+", "+n.b+", 0) 100%);              background-image: linear-gradient(to bottom,rgba( "+n.r+","+n.g+", "+n.b+", 1 ) 0%,rgba( "+n.r+","+n.g+", "+n.b+", 0) 100%);              background-repeat: repeat-x;            }            .jgallery .thumbnails.full-screen .next:before {              background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( "+n.r+","+n.g+", "+n.b+", 0)),to(rgba( "+n.r+","+n.g+", "+n.b+", 1)));              background-image: -webkit-linear-gradient(top,rgba( "+n.r+","+n.g+", "+n.b+", 0),0%,rgba( "+n.r+","+n.g+", "+n.b+", 1),100%);              background-image: -moz-linear-gradient(top,rgba( "+n.r+","+n.g+", "+n.b+", 0) 0%,rgba( "+n.r+","+n.g+", "+n.b+", 1) 100%);              background-image: linear-gradient(to bottom,rgba( "+n.r+","+n.g+", "+n.b+", 0) 0%,rgba( "+n.r+","+n.g+", "+n.b+", 1) 100%);              background-repeat: repeat-x;            }            .jgallery .thumbnails.images a:after {              background: rgb("+k.r+","+k.g+", "+k.b+");            }            .jgallery .thumbnails.full-screen .prev,            .jgallery .thumbnails.full-screen .next {              background: rgb("+n.r+","+n.g+", "+n.b+");            }            .jgallery .thumbnails.square a {              background: rgb("+l.r+","+l.g+", "+l.b+");              color: rgb("+n.r+","+n.g+", "+n.b+");            }            .jgallery .overlayContainer .overlay {              background: rgb("+n.r+","+n.g+", "+n.b+");              color: rgb("+l.r+","+l.g+", "+l.b+");            }            .jgallery .overlayContainer .imageLoaderPositionAbsolute:after {              border-color: rgba("+l.r+","+l.g+", "+l.b+", .5 );            }            .jgallery .thumbnails-horizontal .prev {              background: rgb("+k.r+","+k.g+", "+k.b+");            }            .jgallery .thumbnails-horizontal .prev:before {              background-image: -webkit-gradient(linear,0% top,100% top,from(rgba( "+k.r+","+k.g+", "+k.b+", 1 )),to(rgba( "+k.r+","+k.g+", "+k.b+", 0 )));              background-image: -webkit-linear-gradient(left,color-stop(rgba( "+k.r+","+k.g+", "+k.b+", 1 ) 0%),color-stop(rgba( "+k.r+","+k.g+", "+k.b+", 0 ) 100%));              background-image: -moz-linear-gradient(left,rgba( "+k.r+","+k.g+", "+k.b+", 1 ) 0%,rgba( "+k.r+","+k.g+", "+k.b+", 0 ) 100%);              background-image: linear-gradient(to right,rgba( "+k.r+","+k.g+", "+k.b+", 1 ) 0%,rgba( "+k.r+","+k.g+", "+k.b+", 0 ) 100%);              background-repeat: repeat-x;            }            .jgallery .thumbnails-horizontal .next {              background: rgb("+k.r+","+k.g+", "+k.b+");            }            .jgallery .thumbnails-horizontal .next:before {              background-image: -webkit-gradient(linear,0% top,100% top,from(rgba( "+k.r+","+k.g+", "+k.b+", 0 )),to(rgba( "+k.r+","+k.g+", "+k.b+", 1 )));              background-image: -webkit-linear-gradient(left,color-stop(rgba( "+k.r+","+k.g+", "+k.b+", 0 ) 0%),color-stop(rgba( "+k.r+","+k.g+", "+k.b+", 1 ) 100%));              background-image: -moz-linear-gradient(left,rgba( "+k.r+","+k.g+", "+k.b+", 0 ) 0%,rgba( "+k.r+","+k.g+", "+k.b+", 1 ) 100%);              background-image: linear-gradient(to right,rgba( "+k.r+","+k.g+", "+k.b+", 0 ) 0%,rgba( "+k.r+","+k.g+", "+k.b+", 1 ) 100%);              background-repeat: repeat-x;            }            .jgallery .thumbnails-vertical .prev {              background: rgb("+k.r+","+k.g+", "+k.b+");            }            .jgallery .thumbnails-vertical .prev:before {              background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( "+k.r+","+k.g+", "+k.b+", 1 )),to(rgba( "+k.r+","+k.g+", "+k.b+", 0 )));              background-image: -webkit-linear-gradient(top,rgba( "+k.r+","+k.g+", "+k.b+", 1 ),0%,rgba( "+k.r+","+k.g+", "+k.b+", 0 ),100%);              background-image: -moz-linear-gradient(top,rgba( "+k.r+","+k.g+", "+k.b+", 1 ) 0%,rgba( "+k.r+","+k.g+", "+k.b+", 0 ) 100%);              background-image: linear-gradient(to bottom,rgba( "+k.r+","+k.g+", "+k.b+", 1 ) 0%,rgba( "+k.r+","+k.g+", "+k.b+", 0 ) 100%);              background-repeat: repeat-x;            }            .jgallery .thumbnails-vertical .next {              background: rgb("+k.r+","+k.g+", "+k.b+");            }            .jgallery .thumbnails-vertical .next:before {              background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( "+k.r+","+k.g+", "+k.b+", 0 )),to(rgba( "+k.r+","+k.g+", "+k.b+", 1 )));              background-image: -webkit-linear-gradient(top,rgba( "+k.r+","+k.g+", "+k.b+", 0 ),0%,rgba( "+k.r+","+k.g+", "+k.b+", 1 ),100%);              background-image: -moz-linear-gradient(top,rgba( "+k.r+","+k.g+", "+k.b+", 0 ) 0%,rgba( "+k.r+","+k.g+", "+k.b+", 1 ) 100%);              background-image: linear-gradient(to bottom,rgba( "+k.r+","+k.g+", "+k.b+", 0 ) 0%,rgba( "+k.r+","+k.g+", "+k.b+", 1 ) 100%);              background-repeat: repeat-x;            }            </style>        "}})(jQuery);