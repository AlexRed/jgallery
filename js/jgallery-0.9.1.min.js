/*!
 * jGallery v0.9.1
 * http://jgallery.jakubkowalczyk.pl/
 *
 * Released under the MIT license
 *
 * Date: 2013-10-16
 */
(function(f){f.fn.jGallery=function(i){var l={autostart:false,canClose:true,canResize:true,descriptions:false,thumbnails:true,thumbnailsFullScreen:true,thumbType:"image",thumbnailsPosition:"bottom",thumbWidth:100,thumbHeight:100,thumbWidthOnFullScreen:100,thumbHeightOnFullScreen:100,showEffect:"rotate-room-right",hideEffect:"rotate-room-right",showTimingFunction:"linear",hideTimingFunction:"linear",showDuration:"0.5s",hideDuration:"0.5s",zoomSize:"fitToWindow",title:true,titleShowEffect:"fade",titleHideEffect:"fade",titleShowTimingFunction:"ease",titleHideTimingFunction:"ease",titleShowDuration:"0.5s",titleHideDuration:"0.5s",slideshow:true,slideshowAutostart:false,slideshowCanRandom:true,slideshowRandom:false,slideshowRandomAutostart:false,slideshowInterval:"8s",preloadAll:false,theme:"black",disabledOnIE7AndOlder:true,initGallery:function(){},showPhoto:function(){},beforeLoadPhoto:function(){},afterLoadPhoto:function(){},showGallery:function(){},closeGallery:function(){}};var j=["slide-up","slide-down","slide-right","slide-left","slide-up-left","slide-up-right","slide-down-left","slide-down-right","fade"];var k=j.length;var m=f(window);function h(Z){var ag;var W;var a4;var ao;var aN;var aC;var K;var P=f();var L=f();var aQ;var C=f();var aG;var x;var E;var am;var aI;var aS;var aJ;var aP;var ah;var aZ;var aX;var X;var aK;var Y;var ai;var t;var aF=false;var ab;var aT=false;var a2;var aA;var q;var aR;var T=Z.find(".album:has(a:has(img:first-child:last-child))").length>1;var z=false;var w=parseInt(f(".jgallery").length+1);function r(){return Z.is("[data-jgallery-id]")}if(r()){w=Z.attr("data-jgallery-id")}f.fn.jGalleryOptions[w]=r()?f.extend(f.fn.jGalleryOptions[w],i):f.extend({},l,i);if(f.fn.jGalleryOptions[w].disabledOnIE7AndOlder&&f.browser.msie&&f.browser.version<8){return}function aa(){a4.removeClass("white black").addClass(f.fn.jGalleryOptions[w].theme);aC=aK.find(".resize");f.fn.jGalleryOptions[w].canResize?aC.show():aC.hide();f.fn.jGalleryOptions[w].canClose?aK.find(".close").show():aK.find(".close").hide();if(!f.fn.jGalleryOptions[w].thumbnails){x.hide();f.fn.jGalleryOptions[w].thumbnailsPosition=""}else{x.show();if(f.fn.jGalleryOptions[w].thumbnailsPosition==""){f.fn.jGalleryOptions[w].thumbnailsPosition=l.thumbnailsPosition}}P=aK.find(".slideshow");f.fn.jGalleryOptions[w].slideshow?P.show():P.hide();L=aK.find(".random");f.fn.jGalleryOptions[w].slideshow&&f.fn.jGalleryOptions[w].slideshowCanRandom?L.show():L.hide();f.fn.jGalleryOptions[w].slideshow&&f.fn.jGalleryOptions[w].slideshowCanRandom&&f.fn.jGalleryOptions[w].slideshowRandom?L.addClass("active"):L.removeClass("active");aQ=aK.find(".full-screen");aP=x.find(".close");f.fn.jGalleryOptions[w].thumbnailsFullScreen?aQ.add(aP).show():aQ.add(aP).hide();f.fn.jGalleryOptions[w].descriptions?aG.show():aG.hide();f.fn.jGalleryOptions[w].thumbnailsFullScreen?aK.find(".change-album").show():aK.find(".change-album").hide()}function ad(a7){a7.clear=function(){a7.stop(false,true).css({width:0});return a7};a7.start=function(a8,a9){a7.animate({width:a8},parseInt(f.fn.jGalleryOptions[w].slideshowInterval)*1000,"linear",a9);return a7};a7.pause=function(){a7.stop(true).clear();return a7};return a7}function aU(a8){var a7=a8.find(".title");a8.setTitle=function(a9){a7.html(a9)};a8.getTitle=function(){return a7.html()};return a8}function O(){ag=f("body");a4=f(".jgallery").filter('[data-jgallery-id="'+w+'"]');aK=a4.children(".zoom-container");ai=aK.children(".title");ao=aK.children(".prev");aN=aK.children(".next");X=aK.children(".zoom");K=ad(aK.children(".progress"));aG=a4.find(".descriptions");x=a4.find(".thumbnails");E=x.find(".container");am=x.children(".prev");aI=x.children(".next");aS=x.find("a");aJ=x.find("img");aZ=x.find(".album");if(aZ.length==0){aZ=x.find(".container-inner").addClass("active")}}if(r()){O();J();a3();aa();return}function F(){var a8;var bb=1;var ba=1;var a7=f(".jgallery").eq(-1).find(".thumbnails .container-inner");function a9(be,bf){var bd=1;be.find("a:has(img:first-child:last-child)").each(function(){bf.append(f(this));bf.children(":last-child").attr("data-jgallery-photo-id",bb++).attr("data-jgallery-number",bd++)})}function bc(){var be=f(this);var bd=be.is("[data-jgallery-album-title]")?be.attr("data-jgallery-album-title"):"Album "+ba;var bf=a7.append('<div class="album" data-jgallery-album-title="'+bd+'"></div>').children(":last-child");if(ba==1){bf.addClass("active")}a9(be,bf);ba++}f("body").append('<div id="jGalleryTmp" style="position: absolute; top: 0; left: 0; width: 0; height: 0; z-index: -1; overflow: hidden;">'+Z.html()+"</div>");a8=f("#jGalleryTmp");if(T){a8.find(".album:has(a:has(img:first-child:last-child))").each(bc)}else{a9(a8,a7)}a8.remove()}function ax(){f.fn.jGalleryOptions[w].initGallery();Z.attr("data-jgallery-id",w);f("body").append('                    <div class="jgallery" style="display: none;" data-jgallery-id="'+w+'">                        <div class="thumbnails hidden">                            <div class="container"><div class="container-inner"></div></div>                            <span class="prev btn hidden"><span class="icon-chevron-left ico"></span></span>                            <span class="next btn hidden"><span class="icon-chevron-right ico"></span></span>                        </div>                        <div class="descriptions"></div>                        <div class="zoom-container">                            <div class="title before"></div>                            <div id="pt-main" class="zoom before pt-perspective"></div>                            <span class="icon-chevron-left prev btn btn-large"></span>                            <span class="icon-chevron-right next btn btn-large"></span>                            <span class="progress"></span>                            <div class="nav"></div>                            <div class="nav-bottom"></div>                            <canvas id="canvas" width="1920" height="1200"></canvas>                        </div>                    </div>');F();O();J();a3();aK.find(".nav").append('<span class="icon- resize btn btn-small"></span>');aK.find(".nav").append('<span class="icon-remove close btn btn-small"></span>');aK.find(".nav-bottom").append('<span class="icon- icon-play slideshow btn btn-small"></span>');aK.find(".nav-bottom").append('<span class="icon- icon-random random btn btn-small inactive"></span>');aK.find(".nav-bottom").append('<span class="icon- icon-th full-screen btn btn-small"></span>');x.append('<span class="icon- icon-remove btn close btn-small"></span>');(function(){if(T){aK.find(".nav-bottom").append('                            <span class="icon- icon-list-ul change-album btn btn-small">                                <span class="menu btn"></span>                                <span class="title"></span>                            </span>                        ');C=new aU(aK.find(".change-album"));ah=C.find(".menu");aZ.each(function(){var a7=f(this).attr("data-jgallery-album-title");ah.append('<span class="item" data-jgallery-album-title="'+a7+'">'+a7+"</span>")});x.append(C.outerHtml());C=new aU(C.add(x.children(":last-child")))}})();aa();if(f.fn.jGalleryOptions[w].zoomSize=="fitToWindow"){aC.addClass("icon-resize-full")}if(f.fn.jGalleryOptions[w].zoomSize=="100%"){aC.addClass("icon-resize-small")}a5();a6();G();aw();aW()}function a3(){x.removeClass("square number images thumbnails-left thumbnails-right thumbnails-top thumbnails-bottom thumbnails-horizontal thumbnails-vertical");x.addClass("thumbnails-"+f.fn.jGalleryOptions[w].thumbnailsPosition);if(af()){x.addClass("thumbnails-vertical")}if(M()){x.addClass("thumbnails-horizontal")}if(f.fn.jGalleryOptions[w].thumbType=="image"){aO()}if(f.fn.jGalleryOptions[w].thumbType=="square"){U()}if(f.fn.jGalleryOptions[w].thumbType=="number"){at()}}function U(){x.addClass("square")}function at(){x.addClass("number");U()}function aO(){x.addClass("images");f("head").append('                    <style type="text/css">\n                        .jgallery .thumbnails a {\n                            width: '+f.fn.jGalleryOptions[w].thumbWidth+"px;\n                            height: "+f.fn.jGalleryOptions[w].thumbHeight+"px;\n                            font-size: "+f.fn.jGalleryOptions[w].thumbHeight+"px;\n                        }\n                        .jgallery .thumbnails.full-screen a {\n                            width: "+f.fn.jGalleryOptions[w].thumbWidthOnFullScreen+"px;\n                            height: "+f.fn.jGalleryOptions[w].thumbHeightOnFullScreen+"px;\n                            font-size: "+f.fn.jGalleryOptions[w].thumbHeightOnFullScreen+"px;\n                        }\n                        .jgallery .thumbnails-horizontal {\n                            height: "+parseInt(f.fn.jGalleryOptions[w].thumbHeight+2)+"px;\n                        }\n                        .jgallery .thumbnails-vertical {\n                            width: "+parseInt(f.fn.jGalleryOptions[w].thumbWidth+2)+"px;\n                        }\n                        .jgallery .thumbnails-top.hidden {\n                            top: -"+f.fn.jGalleryOptions[w].thumbHeight+"px;\n                        }\n                        .jgallery .thumbnails-bottom.hidden {\n                            bottom: -"+f.fn.jGalleryOptions[w].thumbHeight+"px;\n                        }\n                        .jgallery .thumbnails-left.hidden {\n                            left: -"+f.fn.jGalleryOptions[w].thumbWidth+"px;\n                        }\n                        .jgallery .thumbnails-right.hidden {\n                            right: -"+f.fn.jGalleryOptions[w].thumbWidth+"px;\n                        }\n                    </style>\n                ");if(r()){return}ak()}function M(){return f.fn.jGalleryOptions[w].thumbnailsPosition=="top"||f.fn.jGalleryOptions[w].thumbnailsPosition=="bottom"}function af(){return f.fn.jGalleryOptions[w].thumbnailsPosition=="left"||f.fn.jGalleryOptions[w].thumbnailsPosition=="right"}function aW(){Z.find("a").on({click:function(a7){var a8=f(this);a7.preventDefault();D(aZ.filter('[data-jgallery-album-title="'+a8.parents("[data-jgallery-album-title]").attr("data-jgallery-album-title")+'"]'));aV(a8)}});aS.on({click:function(a7){var a8=f(this);a7.preventDefault();if(a8.is(":not(.active)")){o();aV(a8)}else{if(v()){aD()}}}});am.on({click:function(){B()}});aI.on({click:function(){H()}});ao.on({click:function(){o();n()}});aN.on({click:function(){o();R()}});aK.find(".close").on({click:function(){az()}});L.on({click:function(){p()}});aC.on({click:function(){ar()}});P.on({click:function(){A()}});aQ.on({click:function(){aE()}});aP.on({click:function(){aD()}});C.on({click:function(a7){s();a7.stopPropagation()}});C.find(".item").on({click:function(){var a7=f(this);if(a7.is(".active")){return}D(aZ.filter('[data-jgallery-album-title="'+a7.attr("data-jgallery-album-title")+'"]'))}})}function s(){C.toggleClass("active")}function V(){C.removeClass("active")}function J(){if(!f.fn.jGalleryOptions[w].preloadAll){return}aS.each(function(){var a7=f(this);if(!a1(a7)){X.append('<div class="container pt-page before '+u(f.fn.jGalleryOptions[w].showEffect)+'"><img src="'+a7.attr("href")+'" /></div>')}})}function a5(){if(!f.browser.msie){a4.addClass("text-shadow")}}function I(){var a8;var a7;if(M()){a8=a4.width();a7=a4.height()-x.outerHeight(true)}else{if(af()){a8=a4.width()-x.outerWidth(true);a7=a4.height()}else{a8=a4.width();a7=a4.height()}}return a8/a7}function aw(){var a7=aK.find(".nav-bottom").outerHeight();aK.css({width:af()?a4.width()-x.outerWidth(true):"auto",height:M()?a4.height()-x.outerHeight(true)-a7:a4.height()-a7,"margin-top":f.fn.jGalleryOptions[w].thumbnailsPosition=="top"?x.outerHeight(true):0,"margin-left":f.fn.jGalleryOptions[w].thumbnailsPosition=="left"?x.outerWidth(true):0,"margin-right":f.fn.jGalleryOptions[w].thumbnailsPosition=="right"?x.outerWidth(true):0})}function aj(){var a7=X.find("img.active");var a8=aK.find(".nav-bottom").outerHeight();a7.css({width:"auto",height:"auto","min-width":0,"min-height":0,"max-width":af()?a4.width()-x.outerWidth(true):a4.width(),"max-height":M()?a4.height()-x.outerHeight(true)-a8:a4.height()-a8});a7.css({"margin-top":-a7.height()/2,"margin-left":-a7.width()/2});aC.addClass("icon-resize-full").removeClass("icon-resize-small")}function av(){var a7=X.find("img.active");var a8=aK.find(".nav-bottom").outerHeight();a7.css({"max-width":"none","max-height":"none","min-width":af()?a4.width()-x.outerWidth(true):a4.width(),"min-height":M()?a4.height()-x.outerHeight(true)-a8:a4.height()-a8});if(ab/I()>1){a7.css({width:"auto",height:M()?a4.height()-x.outerHeight(true)-a8:a4.height()-a8})}else{a7.css({width:af()?a4.width()-x.outerWidth(true):a4.width(),height:"auto"})}a7.css({"margin-top":-a7.height()/2,"margin-left":-a7.width()/2});aC.addClass("icon-resize-small").removeClass("icon-resize-full")}function aB(){if(v()){return}aw();if(f.fn.jGalleryOptions[w].zoomSize=="fitToWindow"){aj()}else{if(f.fn.jGalleryOptions[w].zoomSize=="100%"){av()}}X.addClass("visible")}function ar(){var a7=X.find("img.active");a7.stop(false,true).fadeOut(parseFloat(f.fn.jGalleryOptions[w].showDuration)*1000,function(){if(f.fn.jGalleryOptions[w].zoomSize=="fitToWindow"){f.fn.jGalleryOptions[w].zoomSize="100%";av()}else{if(f.fn.jGalleryOptions[w].zoomSize=="100%"){f.fn.jGalleryOptions[w].zoomSize="fitToWindow";aj()}}a7.fadeIn(parseFloat(f.fn.jGalleryOptions[w].hideDuration)*1000)})}function a6(){if(af()||v()){aM()}else{if(M()){Q()}}}function Q(){var a8=aZ.filter(".active");var a7=f.fn.jGalleryOptions[w].thumbType=="image"?aS.outerWidth(true)*a8.find("img").length:aS.outerWidth(true)*a8.find("a").length;E.scrollLeft()>0?am.addClass("visible"):am.removeClass("visible");a7>E.width()+E.scrollLeft()?aI.addClass("visible"):aI.removeClass("visible")}function aM(){E.scrollTop()>0?am.addClass("visible"):am.removeClass("visible");E.find(".container-inner").height()>E.height()+E.scrollTop()?aI.addClass("visible"):aI.removeClass("visible")}function G(){var a7=x.find(".active");a7.prev("a").length==1?ao.removeClass("hidden"):ao.addClass("hidden");a7.next("a").length==1?aN.removeClass("hidden"):aN.addClass("hidden")}function B(){if(af()||v()){E.stop(false,true).animate({scrollTop:"-="+m.height()*0.7},function(){a6()})}else{if(M()){E.stop(false,true).animate({scrollLeft:"-="+m.width()*0.7},function(){a6()})}}}function H(){if(af()||v()){E.stop(false,true).animate({scrollTop:"+="+m.height()*0.7},function(){a6()})}else{if(M()){E.stop(false,true).animate({scrollLeft:"+="+m.width()*0.7},function(){a6()})}}}function aE(){o();x.addClass("full-screen");if(M()){x.addClass("thumbnails-vertical").removeClass("thumbnails-horizontal")}aM()}function aD(){x.removeClass("full-screen");if(M()){x.addClass("thumbnails-horizontal").removeClass("thumbnails-vertical")}aB();a6()}function v(){return x.is(".full-screen")}function az(){if(!f.fn.jGalleryOptions[w].canClose){return}a4.filter(":visible").stop(false,true).addClass("hidden").fadeOut(500,function(){ag.css({overflow:"visible"})});aT=false;clearTimeout(t);X.hide().removeAttr("src");aK.find("img.active").removeClass("active");ai.addClass("hidden");ao.addClass("hidden");aN.addClass("hidden");ak();o();ag.overlay({hide:true});f.fn.jGalleryOptions[w].closeGallery()}function y(){ag.css({overflow:"hidden"});if(typeof aX=="undefined"){au()}a4.not(":visible").removeClass("hidden").stop(false,true).fadeIn(500);aH();aw();ag.overlay({show:true,showLoader:false});ai.removeClass("hidden");f.fn.jGalleryOptions[w].showGallery()}function ay(a7){if(M()){aY(a7)}if(af()){aq(a7)}}function aY(a7){E.stop(false,true).animate({scrollLeft:a7.position().left-E.scrollLeft()*-1-a7.outerWidth()/-2-E.outerWidth()/2},function(){a6()})}function aq(a7){E.stop(false,true).animate({scrollTop:a7.position().top-E.scrollTop()*-1-a7.outerHeight()/-2-E.outerHeight()/2},function(){a6()})}function u(a7){return a7=="random"?j[Math.floor((Math.random()*k))]:a7}function aV(a7){var a8=a7.children("img");if(!r()){ac()}if(aT){return}aT=true;f.fn.jGalleryOptions[w].showPhoto();if(a4.is(":not(:visible)")){y()}aD();if(T){if(C.getTitle()==""){C.setTitle(a7.parents(".album").eq(0).attr("data-jgallery-album-title"))}}N(a7);if(X.find("img.active").attr("src")===a7.attr("href")){aT=false;return}aG.html("");G();clearTimeout(W);a(f(X).add(Y),f.fn.jGalleryOptions[w].hideDuration);d(f(X).add(Y),f.fn.jGalleryOptions[w].hideTimingFunction);aA=u(f.fn.jGalleryOptions[w].hideEffect);X.addClass("zoom");X.find("img.active").parent().removeClass("visible").removeClass(a2).addClass("after").addClass(aA);a2=u(f.fn.jGalleryOptions[w].showEffect);X.find("img:not(.active)").parent().attr("class","container pt-page before "+a2);if(f.fn.jGalleryOptions[w].title){a(ai,f.fn.jGalleryOptions[w].titleHideDuration);d(ai,f.fn.jGalleryOptions[w].titleHideTimingFunction);aR=u(f.fn.jGalleryOptions[w].titleHideEffect);if(typeof q!="undefined"){ai.removeClass(q)}ai.addClass("after "+aR)}t=setTimeout(function(){var a9=a1(a7);if(!a9){X.append('<div class="container pt-page before '+a2+'"><img src="'+a7.attr("href")+'" /></div>')}aK.find("img.active").removeClass();aK.find('[src="'+a7.attr("href")+'"]').addClass("active").parent().addClass(a2);if(f.fn.jGalleryOptions[w].title&&a8.is("[alt]")){q=u(f.fn.jGalleryOptions[w].titleShowEffect);ai.removeClass(aR).addClass(q).removeClass("after").addClass("before")}if(!a9||(f.fn.jGalleryOptions[w].preloadAll&&!z)){z=true;aK.overlay({show:true,showLoader:true});f.fn.jGalleryOptions[w].beforeLoadPhoto();al(X,a7)}else{a0(a8)}},Math.max(parseFloat(f.fn.jGalleryOptions[w].hideDuration)*1000,parseFloat(f.fn.jGalleryOptions[w].titleHideDuration)*1000))}function a1(a7){return X.find("img").filter('[src="'+a7.attr("href")+'"]').length>0}function al(a7,ba){var bb=ba.children("img");var a9=0;var a8=f.fn.jGalleryOptions[w].preloadAll?a7:a7.find("img.active");a8.jLoader({interval:500,skip:".loaded",start:function(){if(f.fn.jGalleryOptions[w].preloadAll){aK.find(".overlay .imageLoaderPositionAbsolute:not(:has(.progress-value))").addClass("preloadAll").append('<span class="progress-value"></span>');aK.find(".progress-value").html("0")}else{aK.find(".overlay .imageLoaderPositionAbsolute:not(:has(.icon-spin))").append('<span class="icon-spin icon-spinner"></span>')}},success:function(){a7.find("img").addClass("loaded");aK.overlay({hide:true,hideLoader:true});clearInterval(W);aG.html(ba.attr("data-description"));W=setTimeout(function(){a0(bb)},500)},progress:function(bc){if(!f.fn.jGalleryOptions[w].preloadAll){return}a9=bc.percent;aK.find(".overlay .imageLoaderPositionAbsolute").find(".progress-value").html(a9)}})}function a0(a8){var a7=X.find("img.active");a(f(X).add(Y),f.fn.jGalleryOptions[w].showDuration);d(f(X).add(Y),f.fn.jGalleryOptions[w].showTimingFunction);if(f.fn.jGalleryOptions[w].title&&a8.is("[alt]")){ai.html(a8.attr("alt")).removeClass("before").removeClass("after");a(ai,f.fn.jGalleryOptions[w].titleShowDuration);d(ai,f.fn.jGalleryOptions[w].titleShowTimingFunction)}X.show().find("img.active").parent().removeClass("before");ab=a7.width()/a7.height();aB();a6();if(aF){S()}f.fn.jGalleryOptions[w].afterLoadPhoto();aT=false;if(f.fn.jGalleryOptions[w].autostart&&f.fn.jGalleryOptions[w].slideshowAutostart&&f.fn.jGalleryOptions[w].slideshow){f.fn.jGalleryOptions[w].slideshowAutostart=false;ae()}}function ac(){f("body").overlay({imageLoaderPositionAbsolute:true,fadeIn:false,show:true});ax()}function n(){var a7=aS.filter(".active").prev("a");if(a7.length==1){aV(a7)}}function R(){var a7=aS.filter(".active").next("a");if(a7.length==1){aV(a7)}}function aL(){var a7=aS.filter(".active").next("a");if(a7.length==0){a7=aZ.filter(".active").find("a").eq(0)}aV(a7)}function ap(){var a7=aZ.filter(".active").find("a:not(.active)");aV(a7.eq(Math.floor(Math.random()*a7.length)))}function ak(){x.addClass("hidden");aS.addClass("hidden")}function aH(){if(!x.is(".hidden")){return}x.removeClass("hidden");if(!x.is(".loaded")){x.jLoader({start:function(){},success:function(){an();x.addClass("loaded");aJ.each(function(){var a7=f(this);g(a7)?a7.css("max-height","100%"):a7.css("max-width","100%")})}})}else{an()}}function an(){aS.removeClass("hidden");return;var a7=aS.filter(".hidden").eq(0);setTimeout(function(){a7.removeClass("hidden");if(a7.length){an()}},70)}function N(a8){var a7=a8.find("img");var a9=aZ.filter(".active");var a8=a9.find('img[src="'+a7.attr("src")+'"]').parent("a");x.find("a").removeClass("active");a8.addClass("active");if(a9.find("a.active").length==0){a9.find("a:first-child").eq(0).addClass("active")}ay(a8)}function D(a7){if(!T){return}aZ.not(a7.get(0)).removeClass("active");a7.addClass("active");ah.find(".item").removeClass("active").filter('[data-jgallery-album-title="'+a7.attr("data-jgallery-album-title")+'"]').addClass("active");C.setTitle(a7.attr("data-jgallery-album-title"));a6();if(!x.is(".full-screen")&&a4.is(":visible")){aV(a7.find("a").eq(0))}}function au(){aX=f('body > .overlay > [class*="imageLoader"]');if(f.fn.jGalleryOptions[w].thumbnails){if(f.fn.jGalleryOptions[w].thumbnailsPosition=="top"){aX.css({"margin-top":"+="+x.outerHeight(true)/2})}if(f.fn.jGalleryOptions[w].thumbnailsPosition=="bottom"){aX.css({"margin-top":"-="+x.outerHeight(true)/2})}}}function A(){P.is(".icon-play")?ae():o()}function ae(){if(aT||aF){return}aF=true;P.removeClass("icon-play").addClass("icon-stop");S()}function o(){K.pause();P.removeClass("icon-stop").addClass("icon-play");aF=false}function S(){K.clear().start(aK.width(),function(){K.clear();f.fn.jGalleryOptions[w].slideshowRandom?ap():aL()})}function p(){if(f.fn.jGalleryOptions[w].slideshowRandom){L.removeClass("active");f.fn.jGalleryOptions[w].slideshowRandom=false}else{L.addClass("active");f.fn.jGalleryOptions[w].slideshowRandom=true}}if(f.fn.jGalleryOptions[w].autostart){aV(Z.find("a:has(img:first-child:last-child)").eq(0))}else{ax()}m.scroll(function(){aB();a6()});m.resize(function(){aB();a6()});f("html").on({keydown:function(a7){if(a4.is(":visible")){if(a7.which==27){a7.preventDefault();if(x.is(".full-screen")){aD();return}az()}if(a7.which==37){a7.preventDefault();n()}if(a7.which==39){a7.preventDefault();R()}}},click:function(){V()}})}return this.each(function(){h(f(this))})};f.fn.jGalleryOptions=[];f.fn.overlay=function(h){var i={show:false,hide:false,showLoader:false,hideLoader:false,fadeIn:true,fadeOut:true,fadeInLoader:true,fadeOutLoader:true,afterInit:function(){}};h=f.extend({},i,h);this.each(function(){var q=f(this),r,p,o=q.is(".overlayContainer:has(.overlay)"),n=function(){var v=Math.max(q.offset().top,f("body, html").scrollTop()),u=Math.min(q.offset().top+q.outerHeight(),f("body, html").scrollTop()+f(window).height()),t=v+(u-v)/2-q.offset().top;p.css({top:t+"px"})},l=function(){q.children(".overlay").css({width:q.outerWidth(),height:q.is("body")?f("html").outerHeight():q.outerHeight()})},m=function(){h.fadeIn?r.fadeIn(500):r.show()},k=function(){h.fadeOut?r.fadeOut(500):r.hide()},s=function(){h.fadeInLoader?p.not(":visible").fadeIn(500):p.not(":visible").show()},j=function(){h.fadeOutLoader?p.filter(":visible").fadeOut(500):p.filter(":visible").hide()};f(window).scroll(function(){n()});f(window).resize(function(){n();l()});if(q.is("table")){if(q.parent().is(".overlayContainer")){q=q.parent()}}if(!o){if(q.is("table")){q.wrap("<div></div>");q=q.parent()}q.addClass("overlayContainer");q.append('<div class="overlay" style="display: none;"><div class="imageLoaderPositionAbsolute" style="display: none;"></div></div>');h.afterInit()}r=q.children(".overlay");p=q.find(".imageLoaderPositionAbsolute");r.stop(false,true);p.stop(false,true);if(h.show){m()}else{if(h.hide){k()}}if(h.showLoader){s()}else{if(h.hideLoader){j()}}n();l()})};f.fn.jLoader=function(i){i=f.extend({interval:1000,skip:":not(*)",start:function(){f("body").overlay({fadeIn:false,fadeOut:false,show:true,showLoader:true});f("body").show()},success:function(){f("body").overlay({hide:true})},progress:function(){}},i);function h(j){return(/https?\:\/\//.exec(j))}this.each(function(){var p=f(this);var n=f();var l=f();var o;var m=0;function k(){var r=true;var t=0;var q=0;var s;l.each(function(){t++;if(f(this)[0].complete){q++}else{r=false}if(t==m){s=parseInt(q*100/m);i.progress({percent:s});if(r){clearTimeout(o);n.remove();i.success()}else{o=setTimeout(k,i.interval)}}})}function j(){var r=l.eq(0);var q=new XMLHttpRequest();q.open("GET",r.attr("src"),true);q.onprogress=function(s){if(s.lengthComputable){i.progress({percent:parseInt(s.loaded/s.total*100)})}};q.onloadend=function(){n.remove();i.success()};q.send()}p.append('<div class="jLoaderTmp" style="position: absolute; width: 0; height: 0; line-height: 0; font-size: 0; visibility: hidden; overflow: hidden; z-index: -1;"></div>');n=p.children(".jLoaderTmp:last-child");f(p).add(p.find("*")).not(i.skip).each(function(){var q;if(f(this).css("background-image")!="none"){q=f(this).css("background-image");if(/url/.exec(q)){q=q.replace('"',"").replace("'","").replace(" ","").replace("url(","").replace(")","");n.append('<img src="'+q+'">')}}});l=p.find("img:not( "+i.skip+")");if(p.is("img")){if(!p.is(i.skip)){l=l.add(p)}}m=parseInt(l.length);i.start();m==1&&!h(l.eq(0).attr("src"))&&document.location.hostname!=""?j():k()})};f.fn.outerHtml=function(){return(!this.length)?this:(this[0].outerHTML||(function(h){var j=document.createElement("div");j.appendChild(h.cloneNode(true));var i=j.innerHTML;j=null;return i})(this[0]))};function b(h){return f.browser.webkit?h.css("-webkit-transition"):h.css("transition")}function e(h,i){h.css({"-webkit-transition":i,"-moz-transition-duration":i,"-o-transition-duration":i,transition:i})}function a(i,h){i.css({"-webkit-transition-duration":h,"-moz-transition-duration":h,"-o-transition-duration":h,"transition-duration":h})}function d(i,h){i.css({"-webkit-transition-timing-function":h,"-moz-transition-timing-function":h,"-o-transition-timing-function":h,"transition-timing-function":h})}function c(i,h){return Math.floor(Math.random()*(h-i+1))+i}function g(h){return h.width()>h.height()}})(jQuery);