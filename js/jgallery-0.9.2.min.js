/*!
 * jGallery v0.9.2
 * http://jgallery.jakubkowalczyk.pl/
 *
 * Released under the MIT license
 *
 * Date: 2013-10-29
 */
(function(g){g.fn.jGallery=function(j){var m={autostart:false,canClose:true,canResize:true,backgroundColor:"#000",textColor:"#fff",thumbnails:true,thumbnailsFullScreen:true,thumbType:"image",thumbnailsPosition:"bottom",thumbWidth:100,thumbHeight:100,thumbWidthOnFullScreen:100,thumbHeightOnFullScreen:100,showEffect:"rotate-room-right",hideEffect:"rotate-room-right",showTimingFunction:"linear",hideTimingFunction:"linear",showDuration:"0.5s",hideDuration:"0.5s",zoomSize:"fitToWindow",title:true,titleShowEffect:"fade",titleHideEffect:"fade",titleShowTimingFunction:"ease",titleHideTimingFunction:"ease",titleShowDuration:"0.5s",titleHideDuration:"0.5s",slideshow:true,slideshowAutostart:false,slideshowCanRandom:true,slideshowRandom:false,slideshowRandomAutostart:false,slideshowInterval:"8s",preloadAll:false,disabledOnIE7AndOlder:true,initGallery:function(){},showPhoto:function(){},beforeLoadPhoto:function(){},afterLoadPhoto:function(){},showGallery:function(){},closeGallery:function(){}};var k=["slide-up","slide-down","slide-right","slide-left","slide-up-left","slide-up-right","slide-down-left","slide-down-right","fade"];var l=k.length;var n=g(window);function i(aa){var ao=g("head");var ah;var X;var a5;var aq;var aO;var aE;var L;var Q=g();var M=g();var aR;var D=g();var y;var F;var an;var aJ;var aT;var aK;var aQ;var ai;var a0;var aY;var Y;var aL;var Z;var aj;var u;var aH=false;var ac;var aU=false;var a3;var aC;var r;var aS;var U=aa.find(".album:has(a:has(img:first-child:last-child))").length>1;var A=false;var x=parseInt(g(".jgallery").length+1);function s(){return aa.is("[data-jgallery-id]")}if(s()){x=aa.attr("data-jgallery-id")}g.fn.jGalleryOptions[x]=s()?g.extend(g.fn.jGalleryOptions[x],j):g.extend({},m,j);if(g.fn.jGalleryOptions[x].disabledOnIE7AndOlder&&g.browser.msie&&g.browser.version<8){return}function ab(){aE=aL.find(".resize");g.fn.jGalleryOptions[x].canResize?aE.show():aE.hide();g.fn.jGalleryOptions[x].canClose?aL.find(".close").show():aL.find(".close").hide();if(!g.fn.jGalleryOptions[x].thumbnails){y.hide();g.fn.jGalleryOptions[x].thumbnailsPosition=""}else{y.show();if(g.fn.jGalleryOptions[x].thumbnailsPosition==""){g.fn.jGalleryOptions[x].thumbnailsPosition=m.thumbnailsPosition}}Q=aL.find(".slideshow");g.fn.jGalleryOptions[x].slideshow?Q.show():Q.hide();M=aL.find(".random");g.fn.jGalleryOptions[x].slideshow&&g.fn.jGalleryOptions[x].slideshowCanRandom?M.show():M.hide();g.fn.jGalleryOptions[x].slideshow&&g.fn.jGalleryOptions[x].slideshowCanRandom&&g.fn.jGalleryOptions[x].slideshowRandom?M.addClass("active"):M.removeClass("active");aR=aL.find(".full-screen");aQ=y.find(".close");g.fn.jGalleryOptions[x].thumbnailsFullScreen?aR.add(aQ).show():aR.add(aQ).hide();g.fn.jGalleryOptions[x].thumbnailsFullScreen?aL.find(".change-album").show():aL.find(".change-album").hide();ao.append(a({strBg:g.fn.jGalleryOptions[x].backgroundColor,strText:g.fn.jGalleryOptions[x].textColor}))}function ae(a8){a8.clear=function(){a8.stop(false,true).css({width:0});return a8};a8.start=function(a9,ba){a8.animate({width:a9},parseInt(g.fn.jGalleryOptions[x].slideshowInterval)*1000,"linear",ba);return a8};a8.pause=function(){a8.stop(true).clear();return a8};return a8}function aV(a9){var a8=a9.find(".title");a9.setTitle=function(ba){a8.html(ba)};a9.getTitle=function(){return a8.html()};return a9}function P(){ah=g("body");a5=g(".jgallery").filter('[data-jgallery-id="'+x+'"]');aL=a5.children(".zoom-container");aj=aL.children(".title");aq=aL.children(".prev");aO=aL.children(".next");Y=aL.children(".zoom");L=ae(aL.children(".progress"));y=a5.find(".thumbnails");F=y.find(".container");an=y.children(".prev");aJ=y.children(".next");aT=y.find("a");aK=y.find("img");a0=y.find(".album");if(a0.length==0){a0=y.find(".container-inner").addClass("active")}}if(s()){P();K();a4();ab();return}function G(){var a9;var bc=1;var bb=1;var a8=g(".jgallery").eq(-1).find(".thumbnails .container-inner");function ba(bf,bg){var be=1;bf.find("a:has(img:first-child:last-child)").each(function(){bg.append(g(this).addClass("hidden"));bg.children(":last-child").attr("data-jgallery-photo-id",bc++).attr("data-jgallery-number",be++)})}function bd(){var bf=g(this);var be=bf.is("[data-jgallery-album-title]")?bf.attr("data-jgallery-album-title"):"Album "+bb;var bg=a8.append('<div class="album" data-jgallery-album-title="'+be+'"></div>').children(":last-child");if(bb==1){bg.addClass("active")}ba(bf,bg);bb++}g("body").append('<div id="jGalleryTmp" style="position: absolute; top: 0; left: 0; width: 0; height: 0; z-index: -1; overflow: hidden;">'+aa.html()+"</div>");a9=g("#jGalleryTmp");if(U){a9.find(".album:has(a:has(img:first-child:last-child))").each(bd)}else{ba(a9,a8)}a9.remove()}function az(){g.fn.jGalleryOptions[x].initGallery();aa.attr("data-jgallery-id",x);g("body").append('                    <div class="jgallery" style="display: none;" data-jgallery-id="'+x+'">                        <div class="thumbnails hidden">                            <div class="container"><div class="container-inner"></div></div>                            <span class="prev btn hidden"><span class="icon-chevron-left ico"></span></span>                            <span class="next btn hidden"><span class="icon-chevron-right ico"></span></span>                        </div>                        <div class="zoom-container">                            <div class="title before"></div>                            <div id="pt-main" class="zoom before pt-perspective">                                <div class="left" />                                <div class="right" />                            </div>                            <span class="icon-chevron-left prev btn btn-large"></span>                            <span class="icon-chevron-right next btn btn-large"></span>                            <span class="progress"></span>                            <div class="nav"></div>                            <div class="nav-bottom"></div>                            <canvas id="canvas" width="1920" height="1200"></canvas>                        </div>                    </div>');G();P();K();a4();aL.find(".nav").append('<span class="icon- resize btn btn-small"></span>');aL.find(".nav").append('<span class="icon-remove close btn btn-small"></span>');aL.find(".nav-bottom").append('<span class="icon- icon-play slideshow btn btn-small"></span>');aL.find(".nav-bottom").append('<span class="icon- icon-random random btn btn-small inactive"></span>');aL.find(".nav-bottom").append('<span class="icon- icon-th full-screen btn btn-small"></span>');y.append('<span class="icon- icon-remove btn close btn-small"></span>');(function(){if(U){aL.find(".nav-bottom").append('                            <span class="icon- icon-list-ul change-album btn btn-small">                                <span class="menu btn"></span>                                <span class="title"></span>                            </span>                        ');D=new aV(aL.find(".change-album"));ai=D.find(".menu");a0.each(function(){var a8=g(this).attr("data-jgallery-album-title");ai.append('<span class="item" data-jgallery-album-title="'+a8+'">'+a8+"</span>")});y.append(D.outerHtml());D=new aV(D.add(y.children(":last-child")))}})();ab();if(g.fn.jGalleryOptions[x].zoomSize=="fitToWindow"){aE.addClass("icon-resize-full")}if(g.fn.jGalleryOptions[x].zoomSize=="100%"){aE.addClass("icon-resize-small")}a6();a7();H();ay();aX()}function a4(){y.removeClass("square number images thumbnails-left thumbnails-right thumbnails-top thumbnails-bottom thumbnails-horizontal thumbnails-vertical");y.addClass("thumbnails-"+g.fn.jGalleryOptions[x].thumbnailsPosition);if(ag()){y.addClass("thumbnails-vertical")}if(N()){y.addClass("thumbnails-horizontal")}if(g.fn.jGalleryOptions[x].thumbType=="image"){aP()}if(g.fn.jGalleryOptions[x].thumbType=="square"){V()}if(g.fn.jGalleryOptions[x].thumbType=="number"){av()}}function V(){y.addClass("square")}function av(){y.addClass("number");V()}function aP(){y.addClass("images");g("head").append('                    <style type="text/css">\n                        .jgallery .thumbnails a {\n                            width: '+g.fn.jGalleryOptions[x].thumbWidth+"px;\n                            height: "+g.fn.jGalleryOptions[x].thumbHeight+"px;\n                            font-size: "+g.fn.jGalleryOptions[x].thumbHeight+"px;\n                        }\n                        .jgallery .thumbnails.full-screen a {\n                            width: "+g.fn.jGalleryOptions[x].thumbWidthOnFullScreen+"px;\n                            height: "+g.fn.jGalleryOptions[x].thumbHeightOnFullScreen+"px;\n                            font-size: "+g.fn.jGalleryOptions[x].thumbHeightOnFullScreen+"px;\n                        }\n                        .jgallery .thumbnails-horizontal {\n                            height: "+parseInt(g.fn.jGalleryOptions[x].thumbHeight+2)+"px;\n                        }\n                        .jgallery .thumbnails-vertical {\n                            width: "+parseInt(g.fn.jGalleryOptions[x].thumbWidth+2)+"px;\n                        }\n                        .jgallery .thumbnails-top.hidden {\n                            top: -"+g.fn.jGalleryOptions[x].thumbHeight+"px;\n                        }\n                        .jgallery .thumbnails-bottom.hidden {\n                            bottom: -"+g.fn.jGalleryOptions[x].thumbHeight+"px;\n                        }\n                        .jgallery .thumbnails-left.hidden {\n                            left: -"+g.fn.jGalleryOptions[x].thumbWidth+"px;\n                        }\n                        .jgallery .thumbnails-right.hidden {\n                            right: -"+g.fn.jGalleryOptions[x].thumbWidth+"px;\n                        }\n                    </style>\n                ");if(s()){return}al()}function N(){return g.fn.jGalleryOptions[x].thumbnailsPosition=="top"||g.fn.jGalleryOptions[x].thumbnailsPosition=="bottom"}function ag(){return g.fn.jGalleryOptions[x].thumbnailsPosition=="left"||g.fn.jGalleryOptions[x].thumbnailsPosition=="right"}function aX(){aa.find("a").on({click:function(a8){var a9=g(this);a8.preventDefault();E(a0.filter('[data-jgallery-album-title="'+a9.parents("[data-jgallery-album-title]").attr("data-jgallery-album-title")+'"]'));aW(a9)}});aT.on({click:function(a8){var a9=g(this);a8.preventDefault();if(a9.is(":not(.active)")){p();aW(a9)}else{if(w()){aF()}}}});an.on({click:function(){C()}});aJ.on({click:function(){I()}});aq.add(Y.find(".left")).on({click:function(){p();o()}});aO.add(Y.find(".right")).on({click:function(){p();S()}});aL.find(".close").on({click:function(){aB()}});M.on({click:function(){q()}});aE.on({click:function(){au()}});Q.on({click:function(){B()}});aR.on({click:function(){aG()}});aQ.on({click:function(){aF()}});D.on({click:function(a8){t();a8.stopPropagation()}});D.find(".item").on({click:function(){var a8=g(this);if(a8.is(".active")){return}E(a0.filter('[data-jgallery-album-title="'+a8.attr("data-jgallery-album-title")+'"]'))}})}function t(){D.toggleClass("active")}function W(){D.removeClass("active")}function K(){if(!g.fn.jGalleryOptions[x].preloadAll){return}aT.each(function(){var a8=g(this);if(!a2(a8)){Y.append('<div class="container pt-page before '+v(g.fn.jGalleryOptions[x].showEffect)+'"><img src="'+a8.attr("href")+'" /></div>')}})}function a6(){if(!g.browser.msie){a5.addClass("text-shadow")}}function J(){var a9;var a8;if(N()){a9=a5.width();a8=a5.height()-y.outerHeight(true)}else{if(ag()){a9=a5.width()-y.outerWidth(true);a8=a5.height()}else{a9=a5.width();a8=a5.height()}}return a9/a8}function ay(){var a8=aL.find(".nav-bottom").outerHeight();aL.css({width:ag()?a5.width()-y.outerWidth(true):"auto",height:N()?a5.height()-y.outerHeight(true)-a8:a5.height()-a8,"margin-top":g.fn.jGalleryOptions[x].thumbnailsPosition=="top"?y.outerHeight(true):0,"margin-left":g.fn.jGalleryOptions[x].thumbnailsPosition=="left"?y.outerWidth(true):0,"margin-right":g.fn.jGalleryOptions[x].thumbnailsPosition=="right"?y.outerWidth(true):0})}function ak(){var a8=Y.find("img.active");var a9=aL.find(".nav-bottom").outerHeight();a8.css({width:"auto",height:"auto","min-width":0,"min-height":0,"max-width":ag()?a5.width()-y.outerWidth(true):a5.width(),"max-height":N()?a5.height()-y.outerHeight(true)-a9:a5.height()-a9});a8.css({"margin-top":-a8.height()/2,"margin-left":-a8.width()/2});aE.addClass("icon-resize-full").removeClass("icon-resize-small")}function ax(){var a8=Y.find("img.active");var a9=aL.find(".nav-bottom").outerHeight();a8.css({"max-width":"none","max-height":"none","min-width":ag()?a5.width()-y.outerWidth(true):a5.width(),"min-height":N()?a5.height()-y.outerHeight(true)-a9:a5.height()-a9});if(ac/J()>1){a8.css({width:"auto",height:N()?a5.height()-y.outerHeight(true)-a9:a5.height()-a9})}else{a8.css({width:ag()?a5.width()-y.outerWidth(true):a5.width(),height:"auto"})}a8.css({"margin-top":-a8.height()/2,"margin-left":-a8.width()/2});aE.addClass("icon-resize-small").removeClass("icon-resize-full")}function aD(){if(w()){return}ay();if(g.fn.jGalleryOptions[x].zoomSize=="fitToWindow"){ak()}else{if(g.fn.jGalleryOptions[x].zoomSize=="100%"){ax()}}Y.addClass("visible")}function au(){var a8=Y.find("img.active");a8.stop(false,true).fadeOut(parseFloat(g.fn.jGalleryOptions[x].showDuration)*1000,function(){if(g.fn.jGalleryOptions[x].zoomSize=="fitToWindow"){g.fn.jGalleryOptions[x].zoomSize="100%";ax()}else{if(g.fn.jGalleryOptions[x].zoomSize=="100%"){g.fn.jGalleryOptions[x].zoomSize="fitToWindow";ak()}}a8.fadeIn(parseFloat(g.fn.jGalleryOptions[x].hideDuration)*1000)})}function a7(){if(ag()||w()){aN()}else{if(N()){R()}}}function R(){var a9=a0.filter(".active");var a8=g.fn.jGalleryOptions[x].thumbType=="image"?aT.outerWidth(true)*a9.find("img").length:aT.outerWidth(true)*a9.find("a").length;F.scrollLeft()>0?an.addClass("visible"):an.removeClass("visible");a8>F.width()+F.scrollLeft()?aJ.addClass("visible"):aJ.removeClass("visible")}function aN(){F.scrollTop()>0?an.addClass("visible"):an.removeClass("visible");F.find(".container-inner").height()>F.height()+F.scrollTop()?aJ.addClass("visible"):aJ.removeClass("visible")}function H(){var a8=y.find(".active");a8.prev("a").length==1?aq.removeClass("hidden"):aq.addClass("hidden");a8.next("a").length==1?aO.removeClass("hidden"):aO.addClass("hidden")}function C(){if(ag()||w()){F.stop(false,true).animate({scrollTop:"-="+n.height()*0.7},function(){a7()})}else{if(N()){F.stop(false,true).animate({scrollLeft:"-="+n.width()*0.7},function(){a7()})}}}function I(){if(ag()||w()){F.stop(false,true).animate({scrollTop:"+="+n.height()*0.7},function(){a7()})}else{if(N()){F.stop(false,true).animate({scrollLeft:"+="+n.width()*0.7},function(){a7()})}}}function aG(){p();y.addClass("full-screen");if(N()){y.addClass("thumbnails-vertical").removeClass("thumbnails-horizontal")}aN()}function aF(){y.removeClass("full-screen");if(N()){y.addClass("thumbnails-horizontal").removeClass("thumbnails-vertical")}aD();a7()}function w(){return y.is(".full-screen")}function aB(){if(!g.fn.jGalleryOptions[x].canClose){return}a5.filter(":visible").stop(false,true).addClass("hidden").fadeOut(500,function(){ah.css({overflow:"visible"})});aU=false;clearTimeout(u);Y.hide().removeAttr("src");aL.find("img.active").removeClass("active");aj.addClass("hidden");aq.addClass("hidden");aO.addClass("hidden");al();p();ah.overlay({hide:true});g.fn.jGalleryOptions[x].closeGallery()}function z(){ah.css({overflow:"hidden"});if(typeof aY=="undefined"){aw()}a5.not(":visible").removeClass("hidden").stop(false,true).fadeIn(500);aI();ay();ah.overlay({show:true,showLoader:false});aj.removeClass("hidden");g.fn.jGalleryOptions[x].showGallery()}function aA(a8){if(N()){aZ(a8)}if(ag()){at(a8)}}function aZ(a8){F.stop(false,true).animate({scrollLeft:a8.position().left-F.scrollLeft()*-1-a8.outerWidth()/-2-F.outerWidth()/2},function(){a7()})}function at(a8){F.stop(false,true).animate({scrollTop:a8.position().top-F.scrollTop()*-1-a8.outerHeight()/-2-F.outerHeight()/2},function(){a7()})}function v(a8){return a8=="random"?k[Math.floor((Math.random()*l))]:a8}function aW(a8){var a9=a8.children("img");if(!s()){ad()}if(aU){return}aU=true;g.fn.jGalleryOptions[x].showPhoto();if(a5.is(":not(:visible)")){z()}aF();if(U){if(D.getTitle()==""){D.setTitle(a8.parents(".album").eq(0).attr("data-jgallery-album-title"))}}O(a8);if(Y.find("img.active").attr("src")===a8.attr("href")){aU=false;return}H();clearTimeout(X);b(g(Y).add(Z),g.fn.jGalleryOptions[x].hideDuration);e(g(Y).add(Z),g.fn.jGalleryOptions[x].hideTimingFunction);aC=v(g.fn.jGalleryOptions[x].hideEffect);Y.addClass("zoom");Y.find("img.active").parent().removeClass("visible").removeClass(a3).addClass("after").addClass(aC);a3=v(g.fn.jGalleryOptions[x].showEffect);Y.find("img:not(.active)").parent().attr("class","container pt-page before "+a3);if(g.fn.jGalleryOptions[x].title){b(aj,g.fn.jGalleryOptions[x].titleHideDuration);e(aj,g.fn.jGalleryOptions[x].titleHideTimingFunction);aS=v(g.fn.jGalleryOptions[x].titleHideEffect);if(typeof r!="undefined"){aj.removeClass(r)}aj.addClass("after "+aS)}u=setTimeout(function(){var ba=a2(a8);if(!ba){Y.append('<div class="container pt-page before '+a3+'"><img src="'+a8.attr("href")+'" /></div>')}aL.find("img.active").removeClass();aL.find('[src="'+a8.attr("href")+'"]').addClass("active").parent().addClass(a3);if(g.fn.jGalleryOptions[x].title&&a9.is("[alt]")){r=v(g.fn.jGalleryOptions[x].titleShowEffect);aj.removeClass(aS).addClass(r).removeClass("after").addClass("before")}if(!ba||(g.fn.jGalleryOptions[x].preloadAll&&!A)){A=true;aL.overlay({show:true,showLoader:true});g.fn.jGalleryOptions[x].beforeLoadPhoto();am(Y,a8)}else{a1(a9)}},Math.max(parseFloat(g.fn.jGalleryOptions[x].hideDuration)*1000,parseFloat(g.fn.jGalleryOptions[x].titleHideDuration)*1000))}function a2(a8){return Y.find("img").filter('[src="'+a8.attr("href")+'"]').length>0}function am(a8,bb){var bc=bb.children("img");var ba=0;var a9=g.fn.jGalleryOptions[x].preloadAll?a8:a8.find("img.active");a9.jLoader({interval:500,skip:".loaded",start:function(){if(g.fn.jGalleryOptions[x].preloadAll){aL.find(".overlay .imageLoaderPositionAbsolute:not(:has(.progress-value))").addClass("preloadAll").append('<span class="progress-value"></span>');aL.find(".progress-value").html("0")}else{aL.find(".overlay .imageLoaderPositionAbsolute:not(:has(.icon-spin))").append('<span class="icon-spin icon-spinner"></span>')}},success:function(){a8.find("img").addClass("loaded");aL.overlay({hide:true,hideLoader:true});clearInterval(X);X=setTimeout(function(){a1(bc)},500)},progress:function(bd){if(!g.fn.jGalleryOptions[x].preloadAll){return}ba=bd.percent;aL.find(".overlay .imageLoaderPositionAbsolute").find(".progress-value").html(ba)}})}function a1(a9){var a8=Y.find("img.active");b(g(Y).add(Z),g.fn.jGalleryOptions[x].showDuration);e(g(Y).add(Z),g.fn.jGalleryOptions[x].showTimingFunction);if(g.fn.jGalleryOptions[x].title&&a9.is("[alt]")){aj.html(a9.attr("alt")).removeClass("before").removeClass("after");b(aj,g.fn.jGalleryOptions[x].titleShowDuration);e(aj,g.fn.jGalleryOptions[x].titleShowTimingFunction)}Y.show().find("img.active").parent().removeClass("before");ac=a8.width()/a8.height();aD();a7();if(aH){T()}g.fn.jGalleryOptions[x].afterLoadPhoto();aU=false;if(g.fn.jGalleryOptions[x].autostart&&g.fn.jGalleryOptions[x].slideshowAutostart&&g.fn.jGalleryOptions[x].slideshow){g.fn.jGalleryOptions[x].slideshowAutostart=false;af()}}function ad(){g("body").overlay({imageLoaderPositionAbsolute:true,fadeIn:false,show:true});az()}function o(){var a8=aT.filter(".active").prev("a");if(a8.length==1){aW(a8)}}function S(){var a8=aT.filter(".active").next("a");if(a8.length==1){aW(a8)}}function aM(){var a8=aT.filter(".active").next("a");if(a8.length==0){a8=a0.filter(".active").find("a").eq(0)}aW(a8)}function ar(){var a8=a0.filter(".active").find("a:not(.active)");aW(a8.eq(Math.floor(Math.random()*a8.length)))}function al(){y.addClass("hidden");aT.addClass("hidden")}function aI(){if(!y.is(".hidden")){return}y.removeClass("hidden");if(!y.is(".loaded")){y.jLoader({start:function(){},success:function(){ap();aT.parent(".album:not(.active)").children(".hidden").removeClass("hidden");y.addClass("loaded");aK.each(function(){var a8=g(this);h(a8)?a8.css("max-height","100%"):a8.css("max-width","100%")})}})}else{ap()}}function ap(){var a8=aT.parent(".album.active").children(".hidden").eq(0);setTimeout(function(){a8.removeClass("hidden");if(a8.length){ap()}},70)}function O(a9){var a8=a9.find("img");var ba=a0.filter(".active");var a9=ba.find('img[src="'+a8.attr("src")+'"]').parent("a");y.find("a").removeClass("active");a9.addClass("active");if(ba.find("a.active").length==0){ba.find("a:first-child").eq(0).addClass("active")}aA(a9)}function E(a8){if(!U){return}a0.not(a8.get(0)).removeClass("active");a8.addClass("active");ai.find(".item").removeClass("active").filter('[data-jgallery-album-title="'+a8.attr("data-jgallery-album-title")+'"]').addClass("active");D.setTitle(a8.attr("data-jgallery-album-title"));a7();if(!y.is(".full-screen")&&a5.is(":visible")){aW(a8.find("a").eq(0))}}function aw(){aY=g('body > .overlay > [class*="imageLoader"]');if(g.fn.jGalleryOptions[x].thumbnails){if(g.fn.jGalleryOptions[x].thumbnailsPosition=="top"){aY.css({"margin-top":"+="+y.outerHeight(true)/2})}if(g.fn.jGalleryOptions[x].thumbnailsPosition=="bottom"){aY.css({"margin-top":"-="+y.outerHeight(true)/2})}}}function B(){Q.is(".icon-play")?af():p()}function af(){if(aU||aH){return}aH=true;Q.removeClass("icon-play").addClass("icon-stop");T()}function p(){L.pause();Q.removeClass("icon-stop").addClass("icon-play");aH=false}function T(){L.clear().start(aL.width(),function(){L.clear();g.fn.jGalleryOptions[x].slideshowRandom?ar():aM()})}function q(){if(g.fn.jGalleryOptions[x].slideshowRandom){M.removeClass("active");g.fn.jGalleryOptions[x].slideshowRandom=false}else{M.addClass("active");g.fn.jGalleryOptions[x].slideshowRandom=true}}if(g.fn.jGalleryOptions[x].autostart){aW(aa.find("a:has(img:first-child:last-child)").eq(0))}else{az()}n.scroll(function(){aD();a7()});n.resize(function(){aD();a7()});g("html").on({keydown:function(a8){if(a5.is(":visible")){if(a8.which==27){a8.preventDefault();if(y.is(".full-screen")){aF();return}aB()}if(a8.which==37){a8.preventDefault();o()}if(a8.which==39){a8.preventDefault();S()}}},click:function(){W()}})}return this.each(function(){i(g(this))})};g.fn.jGalleryOptions=[];g.fn.overlay=function(i){var j={show:false,hide:false,showLoader:false,hideLoader:false,fadeIn:true,fadeOut:true,fadeInLoader:true,fadeOutLoader:true,afterInit:function(){}};i=g.extend({},j,i);this.each(function(){var r=g(this),s,q,p=r.is(".overlayContainer:has(.overlay)"),o=function(){var w=Math.max(r.offset().top,g("body, html").scrollTop()),v=Math.min(r.offset().top+r.outerHeight(),g("body, html").scrollTop()+g(window).height()),u=w+(v-w)/2-r.offset().top;q.css({top:u+"px"})},m=function(){r.children(".overlay").css({width:r.outerWidth(),height:r.is("body")?g("html").outerHeight():r.outerHeight()})},n=function(){i.fadeIn?s.fadeIn(500):s.show()},l=function(){i.fadeOut?s.fadeOut(500):s.hide()},t=function(){i.fadeInLoader?q.not(":visible").fadeIn(500):q.not(":visible").show()},k=function(){i.fadeOutLoader?q.filter(":visible").fadeOut(500):q.filter(":visible").hide()};g(window).scroll(function(){o()});g(window).resize(function(){o();m()});if(r.is("table")){if(r.parent().is(".overlayContainer")){r=r.parent()}}if(!p){if(r.is("table")){r.wrap("<div></div>");r=r.parent()}r.addClass("overlayContainer");r.append('<div class="overlay" style="display: none;"><div class="imageLoaderPositionAbsolute" style="display: none;"></div></div>');i.afterInit()}s=r.children(".overlay");q=r.find(".imageLoaderPositionAbsolute");s.stop(false,true);q.stop(false,true);if(i.show){n()}else{if(i.hide){l()}}if(i.showLoader){t()}else{if(i.hideLoader){k()}}o();m()})};g.fn.jLoader=function(j){j=g.extend({interval:1000,skip:":not(*)",start:function(){g("body").overlay({fadeIn:false,fadeOut:false,show:true,showLoader:true});g("body").show()},success:function(){g("body").overlay({hide:true})},progress:function(){}},j);function i(k){return(/https?\:\/\//.exec(k))}this.each(function(){var q=g(this);var o=g();var m=g();var p;var n=0;function l(){var s=true;var u=0;var r=0;var t;m.each(function(){u++;if(g(this)[0].complete){r++}else{s=false}if(u==n){t=parseInt(r*100/n);j.progress({percent:t});if(s){clearTimeout(p);o.remove();j.success()}else{p=setTimeout(l,j.interval)}}})}function k(){var s=m.eq(0);var r=new XMLHttpRequest();r.open("GET",s.attr("src"),true);r.onprogress=function(t){if(t.lengthComputable){j.progress({percent:parseInt(t.loaded/t.total*100)})}};r.onloadend=function(){o.remove();j.success()};r.send()}q.append('<div class="jLoaderTmp" style="position: absolute; width: 0; height: 0; line-height: 0; font-size: 0; visibility: hidden; overflow: hidden; z-index: -1;"></div>');o=q.children(".jLoaderTmp:last-child");g(q).add(q.find("*")).not(j.skip).each(function(){var r;if(g(this).css("background-image")!="none"){r=g(this).css("background-image");if(/url/.exec(r)){r=r.replace('"',"").replace("'","").replace(" ","").replace("url(","").replace(")","");o.append('<img src="'+r+'">')}}});m=q.find("img:not( "+j.skip+")");if(q.is("img")){if(!q.is(j.skip)){m=m.add(q)}}n=parseInt(m.length);j.start();l()})};g.fn.outerHtml=function(){return(!this.length)?this:(this[0].outerHTML||(function(i){var k=document.createElement("div");k.appendChild(i.cloneNode(true));var j=k.innerHTML;k=null;return j})(this[0]))};function c(i){return g.browser.webkit?i.css("-webkit-transition"):i.css("transition")}function f(i,j){i.css({"-webkit-transition":j,"-moz-transition-duration":j,"-o-transition-duration":j,transition:j})}function b(j,i){j.css({"-webkit-transition-duration":i,"-moz-transition-duration":i,"-o-transition-duration":i,"transition-duration":i})}function e(j,i){j.css({"-webkit-transition-timing-function":i,"-moz-transition-timing-function":i,"-o-transition-timing-function":i,"transition-timing-function":i})}function d(j,i){return Math.floor(Math.random()*(i-j+1))+j}function h(i){return i.width()>i.height()}function a(k){k=g.extend({strBg:"rgb( 0, 0, 0 )",strText:"rgb( 255, 255, 255 )"},k);var l=tinycolor(k.strBg).toRgb();var i=l.r+l.g+l.b>375?tinycolor.darken(k.strBg).toRgb():tinycolor.lighten(k.strBg).toRgb();var j=tinycolor(k.strText).toRgb();return'            <style type="text/css">            .jgallery {              background: rgb('+l.r+","+l.g+", "+l.b+");            }            .jgallery .btn {              color: rgb("+j.r+","+j.g+", "+j.b+");              background: rgb("+l.r+","+l.g+", "+l.b+");            }            .jgallery .btn.active {              color: rgb("+j.r+","+j.g+", "+j.b+");            }            .jgallery .btn:hover {              text-shadow: none;              text-shadow: 0 0 .15em rgba("+j.r+","+j.g+", "+j.b+",.75), 0 0 .45em rgba("+j.r+","+j.g+", "+j.b+",.5);            }            .jgallery .change-album .menu {              background: rgb("+l.r+","+l.g+", "+l.b+");            }            .jgallery .change-album .menu .item {              border-color: rgb("+l.r+","+l.g+", "+l.b+");              color: rgb("+j.r+","+j.g+", "+j.b+");            }            .jgallery .change-album .menu .item:hover {              background: rgb("+j.r+","+j.g+", "+j.b+");              color: rgb("+l.r+","+l.g+", "+l.b+");            }            .jgallery .zoom-container .title {              color: rgb("+j.r+","+j.g+", "+j.b+");            }            .jgallery .zoom-container .nav-bottom {              background: rgb("+i.r+","+i.g+", "+i.b+");            }            .jgallery .zoom-container .nav-bottom .btn {                background: rgb("+i.r+","+i.g+", "+i.b+");            }            .jgallery .thumbnails {              background: rgb("+i.r+","+i.g+", "+i.b+");            }            .jgallery .thumbnails .ico {              color: rgb("+j.r+","+j.g+", "+j.b+");            }            .jgallery .thumbnails.full-screen .prev:before {              background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( "+l.r+","+l.g+", "+l.b+", 1 )),to(rgba( "+l.r+","+l.g+", "+l.b+", 0)));              background-image: -webkit-linear-gradient(top,rgba( "+l.r+","+l.g+", "+l.b+", 1 ),0%,rgba( "+l.r+","+l.g+", "+l.b+", 0),100%);              background-image: -moz-linear-gradient(top,rgba( "+l.r+","+l.g+", "+l.b+", 1 ) 0%,rgba( "+l.r+","+l.g+", "+l.b+", 0) 100%);              background-image: linear-gradient(to bottom,rgba( "+l.r+","+l.g+", "+l.b+", 1 ) 0%,rgba( "+l.r+","+l.g+", "+l.b+", 0) 100%);              background-repeat: repeat-x;            }            .jgallery .thumbnails.full-screen .next:before {              background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( "+l.r+","+l.g+", "+l.b+", 0)),to(rgba( "+l.r+","+l.g+", "+l.b+", 1)));              background-image: -webkit-linear-gradient(top,rgba( "+l.r+","+l.g+", "+l.b+", 0),0%,rgba( "+l.r+","+l.g+", "+l.b+", 1),100%);              background-image: -moz-linear-gradient(top,rgba( "+l.r+","+l.g+", "+l.b+", 0) 0%,rgba( "+l.r+","+l.g+", "+l.b+", 1) 100%);              background-image: linear-gradient(to bottom,rgba( "+l.r+","+l.g+", "+l.b+", 0) 0%,rgba( "+l.r+","+l.g+", "+l.b+", 1) 100%);              background-repeat: repeat-x;            }            .jgallery .thumbnails.images a:after {              background: rgb("+i.r+","+i.g+", "+i.b+");            }            .jgallery .thumbnails.full-screen .prev,            .jgallery .thumbnails.full-screen .next {              background: rgb("+l.r+","+l.g+", "+l.b+");            }            .jgallery .thumbnails.square a {              background: rgb("+j.r+","+j.g+", "+j.b+");              color: rgb("+l.r+","+l.g+", "+l.b+");            }            .jgallery .overlayContainer .overlay {              background: rgb("+l.r+","+l.g+", "+l.b+");              color: rgb("+j.r+","+j.g+", "+j.b+");            }            .jgallery .overlayContainer .imageLoaderPositionAbsolute:after {              border-color: rgba("+j.r+","+j.g+", "+j.b+", .5 );            }            .jgallery .thumbnails-horizontal .prev {              background: rgb("+i.r+","+i.g+", "+i.b+");            }            .jgallery .thumbnails-horizontal .prev:before {              background-image: -webkit-gradient(linear,0% top,100% top,from(rgba( "+i.r+","+i.g+", "+i.b+", 1 )),to(rgba( "+i.r+","+i.g+", "+i.b+", 0 )));              background-image: -webkit-linear-gradient(left,color-stop(rgba( "+i.r+","+i.g+", "+i.b+", 1 ) 0%),color-stop(rgba( "+i.r+","+i.g+", "+i.b+", 0 ) 100%));              background-image: -moz-linear-gradient(left,rgba( "+i.r+","+i.g+", "+i.b+", 1 ) 0%,rgba( "+i.r+","+i.g+", "+i.b+", 0 ) 100%);              background-image: linear-gradient(to right,rgba( "+i.r+","+i.g+", "+i.b+", 1 ) 0%,rgba( "+i.r+","+i.g+", "+i.b+", 0 ) 100%);              background-repeat: repeat-x;            }            .jgallery .thumbnails-horizontal .next {              background: rgb("+i.r+","+i.g+", "+i.b+");            }            .jgallery .thumbnails-horizontal .next:before {              background-image: -webkit-gradient(linear,0% top,100% top,from(rgba( "+i.r+","+i.g+", "+i.b+", 0 )),to(rgba( "+i.r+","+i.g+", "+i.b+", 1 )));              background-image: -webkit-linear-gradient(left,color-stop(rgba( "+i.r+","+i.g+", "+i.b+", 0 ) 0%),color-stop(rgba( "+i.r+","+i.g+", "+i.b+", 1 ) 100%));              background-image: -moz-linear-gradient(left,rgba( "+i.r+","+i.g+", "+i.b+", 0 ) 0%,rgba( "+i.r+","+i.g+", "+i.b+", 1 ) 100%);              background-image: linear-gradient(to right,rgba( "+i.r+","+i.g+", "+i.b+", 0 ) 0%,rgba( "+i.r+","+i.g+", "+i.b+", 1 ) 100%);              background-repeat: repeat-x;            }            .jgallery .thumbnails-vertical .prev {              background: rgb("+i.r+","+i.g+", "+i.b+");            }            .jgallery .thumbnails-vertical .prev:before {              background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( "+i.r+","+i.g+", "+i.b+", 1 )),to(rgba( "+i.r+","+i.g+", "+i.b+", 0 )));              background-image: -webkit-linear-gradient(top,rgba( "+i.r+","+i.g+", "+i.b+", 1 ),0%,rgba( "+i.r+","+i.g+", "+i.b+", 0 ),100%);              background-image: -moz-linear-gradient(top,rgba( "+i.r+","+i.g+", "+i.b+", 1 ) 0%,rgba( "+i.r+","+i.g+", "+i.b+", 0 ) 100%);              background-image: linear-gradient(to bottom,rgba( "+i.r+","+i.g+", "+i.b+", 1 ) 0%,rgba( "+i.r+","+i.g+", "+i.b+", 0 ) 100%);              background-repeat: repeat-x;            }            .jgallery .thumbnails-vertical .next {              background: rgb("+i.r+","+i.g+", "+i.b+");            }            .jgallery .thumbnails-vertical .next:before {              background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( "+i.r+","+i.g+", "+i.b+", 0 )),to(rgba( "+i.r+","+i.g+", "+i.b+", 1 )));              background-image: -webkit-linear-gradient(top,rgba( "+i.r+","+i.g+", "+i.b+", 0 ),0%,rgba( "+i.r+","+i.g+", "+i.b+", 1 ),100%);              background-image: -moz-linear-gradient(top,rgba( "+i.r+","+i.g+", "+i.b+", 0 ) 0%,rgba( "+i.r+","+i.g+", "+i.b+", 1 ) 100%);              background-image: linear-gradient(to bottom,rgba( "+i.r+","+i.g+", "+i.b+", 0 ) 0%,rgba( "+i.r+","+i.g+", "+i.b+", 1 ) 100%);              background-repeat: repeat-x;            }            </style>        "}})(jQuery);